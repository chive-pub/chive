apiVersion: v1
kind: ConfigMap
metadata:
  name: chive-config
  namespace: chive
  labels:
    app.kubernetes.io/name: chive
    app.kubernetes.io/part-of: chive
data:
  # PostgreSQL
  POSTGRES_HOST: "postgresql.chive.svc.cluster.local"
  POSTGRES_PORT: "5432"
  POSTGRES_DB: "chive"
  POSTGRES_USER: "chive"

  # Redis
  REDIS_HOST: "redis.chive.svc.cluster.local"
  REDIS_PORT: "6379"
  REDIS_DB: "0"
  REDIS_KEY_PREFIX: "chive:"

  # Elasticsearch
  ELASTICSEARCH_URL: "http://elasticsearch.chive.svc.cluster.local:9200"
  ELASTICSEARCH_REQUEST_TIMEOUT: "30000"
  ELASTICSEARCH_MAX_RETRIES: "3"
  ELASTICSEARCH_MAX_CONNECTIONS: "10"

  # Neo4j
  NEO4J_URI: "bolt://neo4j.chive.svc.cluster.local:7687"
  NEO4J_USER: "neo4j"

  # ATProto
  ATPROTO_RELAY_URL: "wss://bsky.network"
  ATPROTO_PDS_URL: "https://bsky.social"
  GRAPH_PDS_DID: "did:plc:chive-governance"

  # Application
  LOG_LEVEL: "info"
  RATE_LIMIT_FAIL_MODE: "closed"
  STALENESS_THRESHOLD_MS: "604800000"

  # OpenTelemetry
  OTEL_EXPORTER_OTLP_ENDPOINT: "http://otel-collector.chive.svc.cluster.local:4318"
