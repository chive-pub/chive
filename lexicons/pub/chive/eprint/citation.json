{
  "lexicon": 1,
  "id": "pub.chive.eprint.citation",
  "defs": {
    "main": {
      "type": "record",
      "description": "User-curated citation linking an eprint to a cited work",
      "key": "tid",
      "record": {
        "type": "object",
        "required": ["eprintUri", "citedWork", "createdAt"],
        "properties": {
          "eprintUri": {
            "type": "string",
            "format": "at-uri",
            "description": "AT-URI of the eprint that cites this work"
          },
          "citedWork": {
            "type": "object",
            "required": ["title"],
            "properties": {
              "title": {
                "type": "string",
                "maxLength": 1000,
                "description": "Title of the cited work"
              },
              "doi": {
                "type": "string",
                "maxLength": 200,
                "description": "DOI of the cited work"
              },
              "arxivId": {
                "type": "string",
                "maxLength": 50,
                "description": "arXiv identifier of the cited work"
              },
              "url": {
                "type": "string",
                "format": "uri",
                "maxLength": 1000,
                "description": "URL of the cited work"
              },
              "authors": {
                "type": "array",
                "items": {
                  "type": "string",
                  "maxLength": 200
                },
                "maxLength": 50,
                "description": "Author names of the cited work"
              },
              "year": {
                "type": "integer",
                "description": "Publication year of the cited work"
              },
              "venue": {
                "type": "string",
                "maxLength": 500,
                "description": "Publication venue (journal or conference)"
              },
              "chiveUri": {
                "type": "string",
                "format": "at-uri",
                "description": "AT-URI of the cited work if it exists in Chive"
              }
            }
          },
          "citationType": {
            "type": "string",
            "knownValues": ["cites", "extends", "refutes", "reviews", "uses-data", "uses-method"],
            "description": "Semantic type of the citation relationship"
          },
          "context": {
            "type": "string",
            "maxLength": 1000,
            "description": "Contextual note explaining the citation"
          },
          "createdAt": {
            "type": "string",
            "format": "datetime"
          }
        }
      }
    }
  }
}
