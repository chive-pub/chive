{
  "lexicon": 1,
  "id": "pub.chive.eprint.userTag",
  "defs": {
    "main": {
      "type": "record",
      "description": "User-generated tag on eprint (TaxoFolk) with optional knowledge graph linking",
      "key": "tid",
      "record": {
        "type": "object",
        "required": ["eprintUri", "tag", "createdAt"],
        "properties": {
          "eprintUri": {
            "type": "string",
            "format": "at-uri",
            "description": "AT-URI of the tagged eprint"
          },
          "tag": {
            "type": "string",
            "description": "Tag label (user-provided text)",
            "maxLength": 100
          },
          "nodeUri": {
            "type": "string",
            "format": "at-uri",
            "description": "Optional AT-URI to linked knowledge graph node (subkind=topic, concept, field, etc.)"
          },
          "nodeSlug": {
            "type": "string",
            "description": "Node slug for display fallback when nodeUri is present",
            "maxLength": 100
          },
          "nodeSubkind": {
            "type": "string",
            "description": "Subkind of the linked node for styling (e.g., 'topic', 'concept', 'field')",
            "maxLength": 50
          },
          "createdAt": {
            "type": "string",
            "format": "datetime"
          }
        }
      }
    }
  }
}
