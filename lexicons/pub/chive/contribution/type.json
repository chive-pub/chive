{
  "lexicon": 1,
  "id": "pub.chive.contribution.type",
  "defs": {
    "externalMapping": {
      "type": "object",
      "description": "Mapping to external ontology or standard",
      "required": ["system", "identifier"],
      "properties": {
        "system": {
          "type": "string",
          "description": "External system identifier",
          "knownValues": ["credit", "cro", "scoro", "pro"],
          "maxLength": 50
        },
        "identifier": {
          "type": "string",
          "description": "Identifier in the external system",
          "maxLength": 100
        },
        "uri": {
          "type": "string",
          "format": "uri",
          "description": "Full URI in the external system"
        },
        "matchType": {
          "type": "string",
          "knownValues": ["exact-match", "close-match", "broad-match", "narrow-match"],
          "description": "Type of semantic match"
        }
      }
    },
    "main": {
      "type": "record",
      "description": "Contribution type authority record (stored in Governance PDS)",
      "key": "tid",
      "record": {
        "type": "object",
        "required": ["id", "label", "description", "status", "createdAt"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Contribution type identifier (e.g., 'conceptualization')",
            "maxLength": 50
          },
          "label": {
            "type": "string",
            "description": "Human-readable label",
            "maxLength": 100
          },
          "description": {
            "type": "string",
            "description": "Detailed description of the contribution type",
            "maxLength": 1000
          },
          "externalMappings": {
            "type": "array",
            "description": "Links to external ontologies (CRediT, CRO, SCoRO, etc.)",
            "items": {
              "type": "ref",
              "ref": "#externalMapping"
            },
            "maxLength": 10
          },
          "status": {
            "type": "string",
            "knownValues": ["established", "provisional", "deprecated"],
            "description": "Authority record status"
          },
          "proposalUri": {
            "type": "string",
            "format": "at-uri",
            "description": "AT-URI of the proposal that created this type (null for seeded types)"
          },
          "deprecatedBy": {
            "type": "string",
            "format": "at-uri",
            "description": "AT-URI of the type that supersedes this one (if deprecated)"
          },
          "createdAt": {
            "type": "string",
            "format": "datetime",
            "description": "Creation timestamp"
          },
          "updatedAt": {
            "type": "string",
            "format": "datetime",
            "description": "Last update timestamp"
          }
        }
      }
    }
  }
}
