{
  "openapi": "3.1.0",
  "info": {
    "title": "Chive API",
    "description": "AT Protocol AppView for scholarly eprints",
    "version": "0.1.0",
    "contact": { "name": "Chive", "url": "https://chive.pub", "email": "contact@chive.pub" },
    "license": { "name": "MIT", "url": "https://opensource.org/licenses/MIT" }
  },
  "servers": [
    { "url": "https://api.chive.pub", "description": "Production" },
    { "url": "http://localhost:3000", "description": "Development" }
  ],
  "tags": [
    { "name": "eprint", "description": "Eprint operations" },
    { "name": "graph", "description": "Knowledge graph operations" },
    { "name": "metrics", "description": "Metrics and trending" },
    { "name": "eprints", "description": "REST eprint endpoints" },
    { "name": "health", "description": "Health check endpoints" }
  ],
  "paths": {
    "/xrpc/pub.chive.activity.log": {
      "post": {
        "operationId": "pub_chive_activity_log",
        "summary": "Log a user-initiated write action before PDS write",
        "tags": ["activity"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "collection": {
                    "description": "NSID of the record collection",
                    "type": "string"
                  },
                  "rkey": { "description": "Record key (TID)", "type": "string" },
                  "action": {
                    "description": "Action type",
                    "type": "string",
                    "enum": ["create", "update", "delete"]
                  },
                  "category": {
                    "description": "Semantic category",
                    "type": "string",
                    "enum": [
                      "eprint_submit",
                      "eprint_update",
                      "eprint_delete",
                      "review_create",
                      "review_update",
                      "review_delete",
                      "endorsement_create",
                      "endorsement_delete",
                      "tag_create",
                      "tag_delete",
                      "profile_update",
                      "proposal_create",
                      "vote_create"
                    ]
                  },
                  "targetUri": { "description": "Target record URI", "type": "string" },
                  "targetTitle": {
                    "description": "Target record title",
                    "type": "string",
                    "maxLength": 500
                  },
                  "traceId": {
                    "description": "OpenTelemetry trace ID",
                    "type": "string",
                    "minLength": 32,
                    "maxLength": 32
                  },
                  "spanId": {
                    "description": "OpenTelemetry span ID",
                    "type": "string",
                    "minLength": 16,
                    "maxLength": 16
                  },
                  "uiContext": {
                    "description": "UI context metadata",
                    "type": "object",
                    "propertyNames": { "type": "string" },
                    "additionalProperties": {}
                  },
                  "recordSnapshot": {
                    "description": "Record data snapshot",
                    "type": "object",
                    "propertyNames": { "type": "string" },
                    "additionalProperties": {}
                  }
                },
                "required": ["collection", "rkey", "action", "category"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "activityId": {
                      "description": "Created activity ID",
                      "type": "string",
                      "format": "uuid",
                      "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                    }
                  },
                  "required": ["activityId"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.activity.markFailed": {
      "post": {
        "operationId": "pub_chive_activity_markFailed",
        "summary": "Mark a pending activity as failed when PDS write fails",
        "tags": ["activity"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "collection": {
                    "description": "NSID of the record collection",
                    "type": "string"
                  },
                  "rkey": { "description": "Record key (TID)", "type": "string" },
                  "errorCode": { "description": "Error code", "type": "string", "maxLength": 50 },
                  "errorMessage": {
                    "description": "Error message",
                    "type": "string",
                    "maxLength": 1000
                  }
                },
                "required": ["collection", "rkey", "errorCode", "errorMessage"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "success": { "type": "boolean" } },
                  "required": ["success"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.activity.getFeed": {
      "get": {
        "operationId": "pub_chive_activity_getFeed",
        "summary": "Get the authenticated user's activity feed",
        "tags": ["activity"],
        "parameters": [
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by category",
              "type": "string",
              "enum": [
                "eprint_submit",
                "eprint_update",
                "eprint_delete",
                "review_create",
                "review_update",
                "review_delete",
                "endorsement_create",
                "endorsement_delete",
                "tag_create",
                "tag_delete",
                "profile_update",
                "proposal_create",
                "vote_create"
              ]
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by status",
              "type": "string",
              "enum": ["pending", "confirmed", "failed", "timeout"]
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Maximum results",
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Pagination cursor", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "activities": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "description": "Unique activity identifier",
                            "type": "string",
                            "format": "uuid",
                            "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                          },
                          "actorDid": {
                            "description": "DID of user who initiated the action",
                            "type": "string"
                          },
                          "collection": {
                            "description": "NSID of the record collection",
                            "type": "string"
                          },
                          "rkey": { "description": "Record key", "type": "string" },
                          "action": {
                            "description": "Action type",
                            "type": "string",
                            "enum": ["create", "update", "delete"]
                          },
                          "category": {
                            "description": "Semantic category",
                            "type": "string",
                            "enum": [
                              "eprint_submit",
                              "eprint_update",
                              "eprint_delete",
                              "review_create",
                              "review_update",
                              "review_delete",
                              "endorsement_create",
                              "endorsement_delete",
                              "tag_create",
                              "tag_delete",
                              "profile_update",
                              "proposal_create",
                              "vote_create"
                            ]
                          },
                          "status": {
                            "description": "Activity status",
                            "type": "string",
                            "enum": ["pending", "confirmed", "failed", "timeout"]
                          },
                          "initiatedAt": {
                            "description": "When user initiated the action",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "confirmedAt": {
                            "description": "When firehose confirmed",
                            "anyOf": [
                              {
                                "type": "string",
                                "format": "date-time",
                                "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                              },
                              { "type": "null" }
                            ]
                          },
                          "firehoseUri": {
                            "description": "AT URI from firehose",
                            "anyOf": [{ "type": "string" }, { "type": "null" }]
                          },
                          "firehoseCid": {
                            "description": "CID from firehose",
                            "anyOf": [{ "type": "string" }, { "type": "null" }]
                          },
                          "targetUri": {
                            "description": "Target record URI",
                            "anyOf": [{ "type": "string" }, { "type": "null" }]
                          },
                          "targetTitle": {
                            "description": "Target record title",
                            "anyOf": [{ "type": "string" }, { "type": "null" }]
                          },
                          "latencyMs": {
                            "description": "Latency from UI to firehose (ms)",
                            "anyOf": [{ "type": "number" }, { "type": "null" }]
                          },
                          "errorCode": {
                            "description": "Error code if failed",
                            "anyOf": [{ "type": "string" }, { "type": "null" }]
                          },
                          "errorMessage": {
                            "description": "Error message if failed",
                            "anyOf": [{ "type": "string" }, { "type": "null" }]
                          }
                        },
                        "required": [
                          "id",
                          "actorDid",
                          "collection",
                          "rkey",
                          "action",
                          "category",
                          "status",
                          "initiatedAt",
                          "confirmedAt",
                          "firehoseUri",
                          "firehoseCid",
                          "targetUri",
                          "targetTitle",
                          "latencyMs",
                          "errorCode",
                          "errorMessage"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "anyOf": [{ "type": "string" }, { "type": "null" }] },
                    "hasMore": { "type": "boolean" }
                  },
                  "required": ["activities", "cursor", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.activity.getCorrelationMetrics": {
      "get": {
        "operationId": "pub_chive_activity_getCorrelationMetrics",
        "summary": "Get activity correlation metrics (admin only)",
        "tags": ["activity"],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "metrics": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "hour": {
                            "description": "Hour bucket",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "category": {
                            "description": "Activity category",
                            "type": "string",
                            "enum": [
                              "eprint_submit",
                              "eprint_update",
                              "eprint_delete",
                              "review_create",
                              "review_update",
                              "review_delete",
                              "endorsement_create",
                              "endorsement_delete",
                              "tag_create",
                              "tag_delete",
                              "profile_update",
                              "proposal_create",
                              "vote_create"
                            ]
                          },
                          "total": {
                            "description": "Total activities",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "confirmed": {
                            "description": "Confirmed activities",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "failed": {
                            "description": "Failed activities",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "timeout": {
                            "description": "Timed out activities",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "pending": {
                            "description": "Pending activities",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "confirmationRatePct": {
                            "description": "Confirmation rate percentage",
                            "type": "number"
                          },
                          "avgLatencyMs": {
                            "description": "Average latency (ms)",
                            "anyOf": [{ "type": "number" }, { "type": "null" }]
                          },
                          "p95LatencyMs": {
                            "description": "P95 latency (ms)",
                            "anyOf": [{ "type": "number" }, { "type": "null" }]
                          }
                        },
                        "required": [
                          "hour",
                          "category",
                          "total",
                          "confirmed",
                          "failed",
                          "timeout",
                          "pending",
                          "confirmationRatePct",
                          "avgLatencyMs",
                          "p95LatencyMs"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "pendingCount": {
                      "description": "Current pending activity count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["metrics", "pendingCount"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.actor.autocompleteAffiliation": {
      "get": {
        "operationId": "pub_chive_actor_autocompleteAffiliation",
        "summary": "Search for institutional affiliations via ROR",
        "tags": ["actor"],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Search query for affiliation name",
              "type": "string",
              "minLength": 2,
              "maxLength": 200
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Max results (default 8)",
              "type": "integer",
              "minimum": 1,
              "maximum": 15
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "suggestions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "rorId": {
                            "description": "ROR ID (e.g., https://ror.org/02mhbdp94)",
                            "type": "string"
                          },
                          "name": { "description": "Organization name", "type": "string" },
                          "country": { "description": "Country name", "type": "string" },
                          "types": {
                            "description": "Organization types (Education, Healthcare, etc.)",
                            "type": "array",
                            "items": { "type": "string" }
                          },
                          "acronym": {
                            "description": "Acronym if available",
                            "anyOf": [{ "type": "string" }, { "type": "null" }]
                          }
                        },
                        "required": ["rorId", "name", "country", "types", "acronym"],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["suggestions"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.actor.autocompleteKeyword": {
      "get": {
        "operationId": "pub_chive_actor_autocompleteKeyword",
        "summary": "Search for research keywords via FAST and Wikidata",
        "tags": ["actor"],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Search query for keyword",
              "type": "string",
              "minLength": 2,
              "maxLength": 200
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Max results (default 8)",
              "type": "integer",
              "minimum": 1,
              "maximum": 20
            }
          },
          {
            "name": "sources",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Sources to search (default both)",
              "type": "array",
              "items": { "type": "string", "enum": ["fast", "wikidata"] }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "suggestions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "description": "Authority ID (FAST idroot or Wikidata QID)",
                            "type": "string"
                          },
                          "label": { "description": "Keyword label", "type": "string" },
                          "source": {
                            "description": "Source of the keyword",
                            "type": "string",
                            "enum": ["fast", "wikidata", "freetext"]
                          },
                          "description": {
                            "description": "Description (Wikidata only)",
                            "anyOf": [{ "type": "string" }, { "type": "null" }]
                          },
                          "usageCount": {
                            "description": "Usage count (FAST only)",
                            "anyOf": [{ "type": "number" }, { "type": "null" }]
                          }
                        },
                        "required": ["id", "label", "source", "description", "usageCount"],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["suggestions"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.actor.autocompleteOpenReview": {
      "get": {
        "operationId": "pub_chive_actor_autocompleteOpenReview",
        "summary": "Search for OpenReview profiles by author name",
        "tags": ["actor"],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Search query for author name",
              "type": "string",
              "minLength": 2,
              "maxLength": 200
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Max results (default 10)",
              "type": "integer",
              "minimum": 1,
              "maximum": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "suggestions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "description": "OpenReview profile ID (e.g., ~John_Smith1)",
                            "type": "string"
                          },
                          "displayName": { "description": "Display name", "type": "string" },
                          "institution": {
                            "description": "Current institution",
                            "anyOf": [{ "type": "string" }, { "type": "null" }]
                          }
                        },
                        "required": ["id", "displayName", "institution"],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["suggestions"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.actor.autocompleteOrcid": {
      "get": {
        "operationId": "pub_chive_actor_autocompleteOrcid",
        "summary": "Search for ORCID profiles by author name",
        "tags": ["actor"],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Search query for author name",
              "type": "string",
              "minLength": 2,
              "maxLength": 200
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Max results (default 8)",
              "type": "integer",
              "minimum": 1,
              "maximum": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "suggestions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "orcid": {
                            "description": "ORCID iD (e.g., 0000-0001-2345-6789)",
                            "type": "string"
                          },
                          "givenNames": {
                            "description": "Given names",
                            "anyOf": [{ "type": "string" }, { "type": "null" }]
                          },
                          "familyName": {
                            "description": "Family name",
                            "anyOf": [{ "type": "string" }, { "type": "null" }]
                          },
                          "affiliation": {
                            "description": "Current affiliation",
                            "anyOf": [{ "type": "string" }, { "type": "null" }]
                          }
                        },
                        "required": ["orcid", "givenNames", "familyName", "affiliation"],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["suggestions"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.actor.discoverAuthorIds": {
      "get": {
        "operationId": "pub_chive_actor_discoverAuthorIds",
        "summary": "Discover potential external author IDs by name search",
        "tags": ["actor"],
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Name to search (defaults to profile displayName)",
              "type": "string",
              "minLength": 2,
              "maxLength": 200
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Max results (default 5)",
              "type": "integer",
              "minimum": 1,
              "maximum": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "searchedName": { "description": "Name that was searched", "type": "string" },
                    "matches": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "displayName": { "description": "Author display name", "type": "string" },
                          "institution": {
                            "description": "Current institution hint",
                            "anyOf": [{ "type": "string" }, { "type": "null" }]
                          },
                          "worksCount": { "description": "Number of works", "type": "number" },
                          "citedByCount": { "description": "Citation count", "type": "number" },
                          "ids": {
                            "description": "External authority IDs",
                            "type": "object",
                            "properties": {
                              "openalex": {
                                "description": "OpenAlex author ID",
                                "anyOf": [{ "type": "string" }, { "type": "null" }]
                              },
                              "semanticScholar": {
                                "description": "Semantic Scholar author ID",
                                "anyOf": [{ "type": "string" }, { "type": "null" }]
                              },
                              "orcid": {
                                "description": "ORCID if linked",
                                "anyOf": [{ "type": "string" }, { "type": "null" }]
                              },
                              "dblp": {
                                "description": "DBLP author ID",
                                "anyOf": [{ "type": "string" }, { "type": "null" }]
                              }
                            },
                            "required": ["openalex", "semanticScholar", "orcid", "dblp"],
                            "additionalProperties": false
                          }
                        },
                        "required": [
                          "displayName",
                          "institution",
                          "worksCount",
                          "citedByCount",
                          "ids"
                        ],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["searchedName", "matches"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.actor.getDiscoverySettings": {
      "get": {
        "operationId": "pub_chive_actor_getDiscoverySettings",
        "summary": "Get the authenticated user's discovery settings",
        "tags": ["actor"],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "enablePersonalization": { "type": "boolean" },
                    "enableForYouFeed": { "type": "boolean" },
                    "forYouSignals": {
                      "type": "object",
                      "properties": {
                        "fields": { "type": "boolean" },
                        "citations": { "type": "boolean" },
                        "collaborators": { "type": "boolean" },
                        "trending": { "type": "boolean" }
                      },
                      "additionalProperties": false
                    },
                    "relatedPapersSignals": {
                      "type": "object",
                      "properties": {
                        "citations": { "type": "boolean" },
                        "topics": { "type": "boolean" }
                      },
                      "additionalProperties": false
                    },
                    "citationNetworkDisplay": {
                      "type": "string",
                      "enum": ["hidden", "preview", "expanded"]
                    },
                    "showRecommendationReasons": { "type": "boolean" }
                  },
                  "required": [
                    "enablePersonalization",
                    "enableForYouFeed",
                    "forYouSignals",
                    "relatedPapersSignals",
                    "citationNetworkDisplay",
                    "showRecommendationReasons"
                  ],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.actor.getMyProfile": {
      "get": {
        "operationId": "pub_chive_actor_getMyProfile",
        "summary": "Get the authenticated user's Chive profile",
        "tags": ["actor"],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "displayName": { "type": "string" },
                    "bio": { "type": "string" },
                    "orcid": { "type": "string" },
                    "affiliations": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": { "type": "string" },
                          "rorId": { "type": "string" }
                        },
                        "required": ["name"],
                        "additionalProperties": false
                      }
                    },
                    "fields": { "type": "array", "items": { "type": "string" } },
                    "nameVariants": { "type": "array", "items": { "type": "string" } },
                    "previousAffiliations": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": { "type": "string" },
                          "rorId": { "type": "string" }
                        },
                        "required": ["name"],
                        "additionalProperties": false
                      }
                    },
                    "researchKeywords": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "label": { "type": "string" },
                          "fastId": { "type": "string" },
                          "wikidataId": { "type": "string" }
                        },
                        "required": ["label"],
                        "additionalProperties": false
                      }
                    },
                    "semanticScholarId": { "type": "string" },
                    "openAlexId": { "type": "string" },
                    "googleScholarId": { "type": "string" },
                    "arxivAuthorId": { "type": "string" },
                    "openReviewId": { "type": "string" },
                    "dblpId": { "type": "string" },
                    "scopusAuthorId": { "type": "string" }
                  },
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.alpha.apply": {
      "post": {
        "operationId": "pub_chive_alpha_apply",
        "summary": "Submit an alpha tester application",
        "tags": ["alpha"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "description": "Contact email for notifications",
                    "type": "string",
                    "format": "email",
                    "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
                  },
                  "sector": {
                    "description": "Organization type",
                    "type": "string",
                    "enum": [
                      "academia",
                      "industry",
                      "government",
                      "nonprofit",
                      "healthcare",
                      "independent",
                      "other"
                    ]
                  },
                  "sectorOther": {
                    "description": "Custom sector if \"other\" selected",
                    "type": "string",
                    "maxLength": 100
                  },
                  "careerStage": {
                    "description": "Career stage/position",
                    "type": "string",
                    "enum": [
                      "undergraduate",
                      "graduate-masters",
                      "graduate-phd",
                      "postdoc",
                      "research-staff",
                      "junior-faculty",
                      "senior-faculty",
                      "research-admin",
                      "librarian",
                      "science-communicator",
                      "policy-professional",
                      "retired",
                      "other"
                    ]
                  },
                  "careerStageOther": {
                    "description": "Custom career stage if \"other\" selected",
                    "type": "string",
                    "maxLength": 100
                  },
                  "affiliations": {
                    "description": "Institutional affiliations (optional)",
                    "maxItems": 10,
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "description": "Institution name",
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 200
                        },
                        "rorId": { "description": "ROR ID URL", "type": "string", "format": "uri" }
                      },
                      "required": ["name"],
                      "additionalProperties": false
                    }
                  },
                  "researchKeywords": {
                    "description": "Research keywords",
                    "minItems": 1,
                    "maxItems": 10,
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "label": {
                          "description": "Keyword label",
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 100
                        },
                        "fastId": {
                          "description": "FAST authority ID",
                          "type": "string",
                          "maxLength": 20
                        },
                        "wikidataId": {
                          "description": "Wikidata ID",
                          "type": "string",
                          "maxLength": 20
                        }
                      },
                      "required": ["label"],
                      "additionalProperties": false
                    }
                  },
                  "motivation": {
                    "description": "Optional motivation statement",
                    "type": "string",
                    "maxLength": 1000
                  }
                },
                "required": ["email", "sector", "careerStage", "researchKeywords"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "applicationId": {
                      "type": "string",
                      "format": "uuid",
                      "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                    },
                    "status": {
                      "type": "string",
                      "enum": ["none", "pending", "approved", "rejected"]
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    }
                  },
                  "required": ["applicationId", "status", "createdAt"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.alpha.checkStatus": {
      "get": {
        "operationId": "pub_chive_alpha_checkStatus",
        "summary": "Check alpha tester application status",
        "tags": ["alpha"],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["none", "pending", "approved", "rejected"]
                    },
                    "appliedAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "reviewedAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    }
                  },
                  "required": ["status"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.author.getProfile": {
      "get": {
        "operationId": "pub_chive_author_getProfile",
        "summary": "Get author profile and metrics by DID",
        "tags": ["author"],
        "parameters": [
          {
            "name": "did",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Author DID to retrieve profile for",
              "type": "string",
              "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "profile": {
                      "description": "Author profile information",
                      "type": "object",
                      "properties": {
                        "did": {
                          "description": "Decentralized Identifier",
                          "type": "string",
                          "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                        },
                        "handle": { "description": "Author handle", "type": "string" },
                        "displayName": { "description": "Display name", "type": "string" },
                        "avatar": {
                          "description": "Avatar URL",
                          "type": "string",
                          "format": "uri"
                        },
                        "bio": { "description": "Profile biography", "type": "string" },
                        "affiliation": {
                          "description": "Primary institutional affiliation",
                          "type": "string"
                        },
                        "affiliations": {
                          "description": "All institutional affiliations",
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": { "description": "Organization name", "type": "string" },
                              "rorId": {
                                "description": "ROR ID (e.g., https://ror.org/02mhbdp94)",
                                "type": "string"
                              }
                            },
                            "required": ["name"],
                            "additionalProperties": false
                          }
                        },
                        "orcid": {
                          "description": "ORCID identifier",
                          "type": "string",
                          "pattern": "^\\d{4}-\\d{4}-\\d{4}-\\d{3}[\\dX]$"
                        },
                        "website": {
                          "description": "Personal website URL",
                          "type": "string",
                          "format": "uri"
                        },
                        "pdsEndpoint": {
                          "description": "User PDS endpoint",
                          "type": "string",
                          "format": "uri"
                        },
                        "fields": {
                          "description": "Research field IDs",
                          "type": "array",
                          "items": { "type": "string" }
                        },
                        "nameVariants": {
                          "description": "Alternative name forms (maiden name, transliterations, initials)",
                          "type": "array",
                          "items": { "type": "string" }
                        },
                        "previousAffiliations": {
                          "description": "Previous institutional affiliations",
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": { "description": "Organization name", "type": "string" },
                              "rorId": {
                                "description": "ROR ID (e.g., https://ror.org/02mhbdp94)",
                                "type": "string"
                              }
                            },
                            "required": ["name"],
                            "additionalProperties": false
                          }
                        },
                        "researchKeywords": {
                          "description": "Research keywords for content matching",
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "label": { "description": "Keyword label", "type": "string" },
                              "fastId": {
                                "description": "FAST subject heading ID",
                                "type": "string"
                              },
                              "wikidataId": {
                                "description": "Wikidata entity ID (e.g., Q12345)",
                                "type": "string"
                              }
                            },
                            "required": ["label"],
                            "additionalProperties": false
                          }
                        },
                        "semanticScholarId": {
                          "description": "Semantic Scholar author ID",
                          "type": "string"
                        },
                        "openAlexId": { "description": "OpenAlex author ID", "type": "string" },
                        "googleScholarId": {
                          "description": "Google Scholar profile ID",
                          "type": "string"
                        },
                        "arxivAuthorId": { "description": "arXiv author ID", "type": "string" },
                        "openReviewId": {
                          "description": "OpenReview profile ID",
                          "type": "string"
                        },
                        "dblpId": { "description": "DBLP author ID", "type": "string" },
                        "scopusAuthorId": { "description": "Scopus author ID", "type": "string" }
                      },
                      "required": ["did", "pdsEndpoint"],
                      "additionalProperties": false
                    },
                    "metrics": {
                      "description": "Author metrics across all eprints",
                      "type": "object",
                      "properties": {
                        "totalEprints": {
                          "description": "Total eprints authored",
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "totalViews": {
                          "description": "Total views across all eprints",
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "totalDownloads": {
                          "description": "Total downloads across all eprints",
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "totalEndorsements": {
                          "description": "Total endorsements received",
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "totalReviews": {
                          "description": "Total reviews written",
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "hIndex": {
                          "description": "h-index if citation data available",
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": [
                        "totalEprints",
                        "totalViews",
                        "totalDownloads",
                        "totalEndorsements"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": ["profile", "metrics"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.backlink.list": {
      "get": {
        "operationId": "pub_chive_backlink_list",
        "summary": "List backlinks to an eprint",
        "tags": ["backlink"],
        "parameters": [
          { "name": "targetUri", "in": "query", "required": true, "schema": { "type": "string" } },
          {
            "name": "sourceType",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "semble.collection",
                "leaflet.list",
                "whitewind.blog",
                "bluesky.post",
                "bluesky.embed",
                "other"
              ]
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "minimum": 1, "maximum": 100 }
          },
          { "name": "cursor", "in": "query", "required": false, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "backlinks": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "sourceUri": { "type": "string" },
                          "sourceType": {
                            "type": "string",
                            "enum": [
                              "semble.collection",
                              "leaflet.list",
                              "whitewind.blog",
                              "bluesky.post",
                              "bluesky.embed",
                              "other"
                            ]
                          },
                          "targetUri": { "type": "string" },
                          "context": { "type": "string" },
                          "indexedAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "deleted": { "type": "boolean" }
                        },
                        "required": [
                          "id",
                          "sourceUri",
                          "sourceType",
                          "targetUri",
                          "indexedAt",
                          "deleted"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "hasMore": { "type": "boolean" }
                  },
                  "required": ["backlinks", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.backlink.getCounts": {
      "get": {
        "operationId": "pub_chive_backlink_getCounts",
        "summary": "Get aggregated backlink counts for an eprint",
        "tags": ["backlink"],
        "parameters": [
          { "name": "targetUri", "in": "query", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "sembleCollections": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "leafletLists": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "whitewindBlogs": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "blueskyPosts": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "blueskyEmbeds": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "other": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "total": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": [
                    "sembleCollections",
                    "leafletLists",
                    "whitewindBlogs",
                    "blueskyPosts",
                    "blueskyEmbeds",
                    "other",
                    "total"
                  ],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.backlink.create": {
      "post": {
        "operationId": "pub_chive_backlink_create",
        "summary": "Create a backlink record (internal/plugin use)",
        "tags": ["backlink"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sourceUri": { "type": "string" },
                  "sourceType": {
                    "type": "string",
                    "enum": [
                      "semble.collection",
                      "leaflet.list",
                      "whitewind.blog",
                      "bluesky.post",
                      "bluesky.embed",
                      "other"
                    ]
                  },
                  "targetUri": { "type": "string" },
                  "context": { "type": "string", "maxLength": 500 }
                },
                "required": ["sourceUri", "sourceType", "targetUri"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "sourceUri": { "type": "string" },
                    "sourceType": {
                      "type": "string",
                      "enum": [
                        "semble.collection",
                        "leaflet.list",
                        "whitewind.blog",
                        "bluesky.post",
                        "bluesky.embed",
                        "other"
                      ]
                    },
                    "targetUri": { "type": "string" },
                    "context": { "type": "string" },
                    "indexedAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "deleted": { "type": "boolean" }
                  },
                  "required": [
                    "id",
                    "sourceUri",
                    "sourceType",
                    "targetUri",
                    "indexedAt",
                    "deleted"
                  ],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.backlink.delete": {
      "post": {
        "operationId": "pub_chive_backlink_delete",
        "summary": "Delete a backlink record (internal/plugin use)",
        "tags": ["backlink"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": { "sourceUri": { "type": "string" } },
                "required": ["sourceUri"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "success": { "type": "boolean" } },
                  "required": ["success"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.startClaim": {
      "post": {
        "operationId": "pub_chive_claiming_startClaim",
        "summary": "Start a claim request for an imported eprint",
        "tags": ["claiming"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "importId": {
                    "description": "ID of the imported eprint to claim",
                    "type": "integer",
                    "minimum": -9007199254740991,
                    "maximum": 9007199254740991
                  }
                },
                "required": ["importId"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "claim": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "importId": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "claimantDid": { "type": "string" },
                        "status": {
                          "type": "string",
                          "enum": ["pending", "approved", "rejected", "expired"]
                        },
                        "canonicalUri": { "type": "string" },
                        "rejectionReason": { "type": "string" },
                        "reviewedBy": { "type": "string" },
                        "reviewedAt": {
                          "type": "string",
                          "format": "date-time",
                          "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                        },
                        "expiresAt": {
                          "type": "string",
                          "format": "date-time",
                          "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                        }
                      },
                      "required": ["id", "importId", "claimantDid", "status", "createdAt"],
                      "additionalProperties": false
                    }
                  },
                  "required": ["claim"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.completeClaim": {
      "post": {
        "operationId": "pub_chive_claiming_completeClaim",
        "summary": "Complete a claim after user creates canonical record",
        "tags": ["claiming"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "claimId": {
                    "description": "ID of the claim request",
                    "type": "integer",
                    "minimum": -9007199254740991,
                    "maximum": 9007199254740991
                  },
                  "canonicalUri": {
                    "description": "AT-URI of the canonical record in user PDS",
                    "type": "string"
                  }
                },
                "required": ["claimId", "canonicalUri"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "success": { "type": "boolean" } },
                  "required": ["success"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.approveClaim": {
      "post": {
        "operationId": "pub_chive_claiming_approveClaim",
        "summary": "Approve a pending claim (admin only)",
        "tags": ["claiming"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "claimId": {
                    "description": "ID of the claim request",
                    "type": "integer",
                    "minimum": -9007199254740991,
                    "maximum": 9007199254740991
                  }
                },
                "required": ["claimId"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "success": { "type": "boolean" } },
                  "required": ["success"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.rejectClaim": {
      "post": {
        "operationId": "pub_chive_claiming_rejectClaim",
        "summary": "Reject a pending claim with reason (admin only)",
        "tags": ["claiming"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "claimId": {
                    "description": "ID of the claim request",
                    "type": "integer",
                    "minimum": -9007199254740991,
                    "maximum": 9007199254740991
                  },
                  "reason": {
                    "description": "Rejection reason",
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 500
                  }
                },
                "required": ["claimId", "reason"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "success": { "type": "boolean" } },
                  "required": ["success"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.getClaim": {
      "get": {
        "operationId": "pub_chive_claiming_getClaim",
        "summary": "Get a claim request by ID",
        "tags": ["claiming"],
        "parameters": [
          {
            "name": "claimId",
            "in": "query",
            "required": true,
            "schema": {
              "description": "ID of the claim request",
              "type": "integer",
              "minimum": -9007199254740991,
              "maximum": 9007199254740991
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "claim": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "integer",
                              "minimum": -9007199254740991,
                              "maximum": 9007199254740991
                            },
                            "importId": {
                              "type": "integer",
                              "minimum": -9007199254740991,
                              "maximum": 9007199254740991
                            },
                            "claimantDid": { "type": "string" },
                            "status": {
                              "type": "string",
                              "enum": ["pending", "approved", "rejected", "expired"]
                            },
                            "canonicalUri": { "type": "string" },
                            "rejectionReason": { "type": "string" },
                            "reviewedBy": { "type": "string" },
                            "reviewedAt": {
                              "type": "string",
                              "format": "date-time",
                              "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                            },
                            "createdAt": {
                              "type": "string",
                              "format": "date-time",
                              "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                            },
                            "expiresAt": {
                              "type": "string",
                              "format": "date-time",
                              "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                            }
                          },
                          "required": ["id", "importId", "claimantDid", "status", "createdAt"],
                          "additionalProperties": false
                        },
                        { "type": "null" }
                      ]
                    }
                  },
                  "required": ["claim"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.getUserClaims": {
      "get": {
        "operationId": "pub_chive_claiming_getUserClaims",
        "summary": "Get authenticated user's claims",
        "tags": ["claiming"],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": { "type": "string", "enum": ["pending", "approved", "rejected", "expired"] }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "minimum": 1, "maximum": 100 }
          },
          { "name": "cursor", "in": "query", "required": false, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "claims": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "importId": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "claimantDid": { "type": "string" },
                          "status": {
                            "type": "string",
                            "enum": ["pending", "approved", "rejected", "expired"]
                          },
                          "canonicalUri": { "type": "string" },
                          "rejectionReason": { "type": "string" },
                          "reviewedBy": { "type": "string" },
                          "reviewedAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "expiresAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "paper": {
                            "type": "object",
                            "properties": {
                              "source": { "type": "string" },
                              "externalId": { "type": "string" },
                              "externalUrl": { "type": "string" },
                              "title": { "type": "string" },
                              "authors": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "name": { "type": "string" },
                                    "orcid": { "type": "string" },
                                    "affiliation": { "type": "string" },
                                    "email": { "type": "string" }
                                  },
                                  "required": ["name"],
                                  "additionalProperties": false
                                }
                              },
                              "publicationDate": { "type": "string" },
                              "doi": { "type": "string" }
                            },
                            "required": ["source", "externalId", "externalUrl", "title", "authors"],
                            "additionalProperties": false
                          }
                        },
                        "required": [
                          "id",
                          "importId",
                          "claimantDid",
                          "status",
                          "createdAt",
                          "paper"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "hasMore": { "type": "boolean" }
                  },
                  "required": ["claims", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.findClaimable": {
      "get": {
        "operationId": "pub_chive_claiming_findClaimable",
        "summary": "Find claimable eprints matching identity",
        "tags": ["claiming"],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": false,
            "schema": { "description": "Search query (title, author name, DOI)", "type": "string" }
          },
          {
            "name": "source",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by source (arxiv, biorxiv, medrxiv, etc.)",
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "minimum": 1, "maximum": 100 }
          },
          { "name": "cursor", "in": "query", "required": false, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "eprints": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "source": { "type": "string" },
                          "externalId": { "type": "string" },
                          "url": { "type": "string", "format": "uri" },
                          "title": { "type": "string" },
                          "authors": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "name": { "type": "string" },
                                "orcid": { "type": "string" },
                                "affiliation": { "type": "string" }
                              },
                              "required": ["name"],
                              "additionalProperties": false
                            }
                          },
                          "publicationDate": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "doi": { "type": "string" }
                        },
                        "required": ["id", "source", "externalId", "url", "title", "authors"],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "hasMore": { "type": "boolean" }
                  },
                  "required": ["eprints", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.getPendingClaims": {
      "get": {
        "operationId": "pub_chive_claiming_getPendingClaims",
        "summary": "Get pending claims for review (admin only)",
        "tags": ["claiming"],
        "parameters": [
          {
            "name": "minScore",
            "in": "query",
            "required": false,
            "schema": { "type": "number", "minimum": 0, "maximum": 1 }
          },
          {
            "name": "maxScore",
            "in": "query",
            "required": false,
            "schema": { "type": "number", "minimum": 0, "maximum": 1 }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "minimum": 1, "maximum": 100 }
          },
          { "name": "cursor", "in": "query", "required": false, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "claims": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "importId": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "claimantDid": { "type": "string" },
                          "status": {
                            "type": "string",
                            "enum": ["pending", "approved", "rejected", "expired"]
                          },
                          "canonicalUri": { "type": "string" },
                          "rejectionReason": { "type": "string" },
                          "reviewedBy": { "type": "string" },
                          "reviewedAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "expiresAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": ["id", "importId", "claimantDid", "status", "createdAt"],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "hasMore": { "type": "boolean" }
                  },
                  "required": ["claims", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.searchEprints": {
      "get": {
        "operationId": "pub_chive_claiming_searchEprints",
        "summary": "Search external eprint sources for papers to claim",
        "tags": ["claiming"],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": false,
            "schema": { "description": "Title or keyword search query", "type": "string" }
          },
          {
            "name": "author",
            "in": "query",
            "required": false,
            "schema": { "description": "Author name to search for", "type": "string" }
          },
          {
            "name": "sources",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Comma-separated list of sources to search",
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Maximum results",
              "type": "integer",
              "minimum": 1,
              "maximum": 50
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "eprints": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "externalId": {
                            "description": "Source-specific identifier",
                            "type": "string"
                          },
                          "url": {
                            "description": "Full URL to the eprint",
                            "type": "string",
                            "format": "uri"
                          },
                          "title": { "description": "Eprint title", "type": "string" },
                          "abstract": { "description": "Abstract text", "type": "string" },
                          "authors": {
                            "description": "Author list",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "name": { "type": "string" },
                                "orcid": { "type": "string" },
                                "affiliation": { "type": "string" },
                                "email": {
                                  "type": "string",
                                  "format": "email",
                                  "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
                                }
                              },
                              "required": ["name"],
                              "additionalProperties": false
                            }
                          },
                          "publicationDate": {
                            "description": "Publication date",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "doi": { "description": "DOI if assigned", "type": "string" },
                          "pdfUrl": {
                            "description": "URL to PDF",
                            "type": "string",
                            "format": "uri"
                          },
                          "categories": {
                            "description": "Subject categories",
                            "type": "array",
                            "items": { "type": "string" }
                          },
                          "source": {
                            "description": "Source system",
                            "type": "string",
                            "minLength": 2,
                            "maxLength": 50,
                            "pattern": "^[a-z0-9]+$"
                          },
                          "existingChivePaper": {
                            "type": "object",
                            "properties": {
                              "uri": {
                                "description": "AT-URI of the existing paper",
                                "type": "string"
                              },
                              "title": { "description": "Paper title", "type": "string" },
                              "authors": {
                                "description": "Author list",
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "did": { "type": "string" },
                                    "name": { "type": "string" }
                                  },
                                  "required": ["name"],
                                  "additionalProperties": false
                                }
                              },
                              "createdAt": {
                                "description": "When the paper was indexed",
                                "type": "string",
                                "format": "date-time",
                                "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                              }
                            },
                            "required": ["uri", "title", "authors", "createdAt"],
                            "additionalProperties": false
                          }
                        },
                        "required": ["externalId", "url", "title", "authors", "source"],
                        "additionalProperties": false
                      }
                    },
                    "facets": {
                      "type": "object",
                      "properties": {
                        "sources": {
                          "description": "Result counts by source",
                          "type": "object",
                          "propertyNames": { "type": "string" },
                          "additionalProperties": { "type": "number" }
                        }
                      },
                      "required": ["sources"],
                      "additionalProperties": false
                    }
                  },
                  "required": ["eprints"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.autocomplete": {
      "get": {
        "operationId": "pub_chive_claiming_autocomplete",
        "summary": "Get autocomplete suggestions for claiming search",
        "tags": ["claiming"],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": { "description": "Search query prefix", "type": "string", "minLength": 2 }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Maximum suggestions",
              "type": "integer",
              "minimum": 1,
              "maximum": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "suggestions": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "title": { "description": "Eprint title", "type": "string" },
                          "authors": { "description": "First 2 authors joined", "type": "string" },
                          "source": {
                            "description": "Source system",
                            "type": "string",
                            "minLength": 2,
                            "maxLength": 50,
                            "pattern": "^[a-z0-9]+$"
                          },
                          "externalId": {
                            "description": "Source-specific identifier",
                            "type": "string"
                          },
                          "highlightedTitle": {
                            "description": "Title with query portion highlighted",
                            "type": "string"
                          },
                          "fieldMatchScore": {
                            "description": "User field relevance score",
                            "type": "number"
                          }
                        },
                        "required": ["title", "authors", "source", "externalId"],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["suggestions"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.getSuggestions": {
      "get": {
        "operationId": "pub_chive_claiming_getSuggestions",
        "summary": "Get suggested papers to claim based on user profile",
        "tags": ["claiming"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Maximum results",
              "type": "integer",
              "minimum": 1,
              "maximum": 50
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "papers": {
                      "description": "Suggested papers sorted by match score",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "externalId": {
                            "description": "Source-specific identifier",
                            "type": "string"
                          },
                          "url": {
                            "description": "Full URL to the eprint",
                            "type": "string",
                            "format": "uri"
                          },
                          "title": { "description": "Eprint title", "type": "string" },
                          "abstract": { "description": "Abstract text", "type": "string" },
                          "authors": {
                            "description": "Author list",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "name": { "type": "string" },
                                "orcid": { "type": "string" },
                                "affiliation": { "type": "string" },
                                "email": {
                                  "type": "string",
                                  "format": "email",
                                  "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
                                }
                              },
                              "required": ["name"],
                              "additionalProperties": false
                            }
                          },
                          "publicationDate": {
                            "description": "Publication date",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "doi": { "description": "DOI if assigned", "type": "string" },
                          "pdfUrl": {
                            "description": "URL to PDF",
                            "type": "string",
                            "format": "uri"
                          },
                          "categories": {
                            "description": "Subject categories",
                            "type": "array",
                            "items": { "type": "string" }
                          },
                          "source": {
                            "description": "Source system",
                            "type": "string",
                            "minLength": 2,
                            "maxLength": 50,
                            "pattern": "^[a-z0-9]+$"
                          },
                          "matchScore": {
                            "description": "Match confidence score (0-100)",
                            "type": "number",
                            "minimum": 0,
                            "maximum": 100
                          },
                          "matchReason": {
                            "description": "Human-readable match reason",
                            "type": "string"
                          }
                        },
                        "required": [
                          "externalId",
                          "url",
                          "title",
                          "authors",
                          "source",
                          "matchScore",
                          "matchReason"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "profileUsed": {
                      "description": "Profile data used for matching",
                      "type": "object",
                      "properties": {
                        "displayName": { "description": "User display name", "type": "string" },
                        "nameVariants": {
                          "description": "Name variants used for matching",
                          "type": "array",
                          "items": { "type": "string" }
                        },
                        "hasOrcid": {
                          "description": "Whether user has ORCID linked",
                          "type": "boolean"
                        },
                        "hasExternalIds": {
                          "description": "Whether user has external authority IDs",
                          "type": "boolean"
                        }
                      },
                      "required": ["nameVariants", "hasOrcid", "hasExternalIds"],
                      "additionalProperties": false
                    }
                  },
                  "required": ["papers", "profileUsed"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.startClaimFromExternal": {
      "post": {
        "operationId": "pub_chive_claiming_startClaimFromExternal",
        "summary": "Start a claim from an external search result (imports on demand)",
        "tags": ["claiming"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "source": {
                    "description": "External source",
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 50,
                    "pattern": "^[a-z0-9]+$"
                  },
                  "externalId": { "description": "Source-specific identifier", "type": "string" }
                },
                "required": ["source", "externalId"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "claim": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "importId": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "claimantDid": { "type": "string" },
                        "status": {
                          "type": "string",
                          "enum": ["pending", "approved", "rejected", "expired"]
                        },
                        "canonicalUri": { "type": "string" },
                        "rejectionReason": { "type": "string" },
                        "reviewedBy": { "type": "string" },
                        "reviewedAt": {
                          "type": "string",
                          "format": "date-time",
                          "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                        },
                        "expiresAt": {
                          "type": "string",
                          "format": "date-time",
                          "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                        }
                      },
                      "required": ["id", "importId", "claimantDid", "status", "createdAt"],
                      "additionalProperties": false
                    }
                  },
                  "required": ["claim"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.getSubmissionData": {
      "get": {
        "operationId": "pub_chive_claiming_getSubmissionData",
        "summary": "Get prefilled submission data for claiming a paper from an external source",
        "tags": ["claiming"],
        "parameters": [
          {
            "name": "source",
            "in": "query",
            "required": true,
            "schema": {
              "description": "External source (e.g., arxiv, semanticscholar)",
              "type": "string",
              "minLength": 2,
              "maxLength": 50,
              "pattern": "^[a-z0-9]+$"
            }
          },
          {
            "name": "externalId",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Source-specific identifier",
              "type": "string",
              "minLength": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "title": { "type": "string" },
                    "abstract": { "type": "string" },
                    "authors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "order": { "type": "integer", "minimum": 1, "maximum": 9007199254740991 },
                          "name": { "type": "string" },
                          "orcid": { "type": "string" },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
                          },
                          "affiliation": { "type": "string" }
                        },
                        "required": ["order", "name"],
                        "additionalProperties": false
                      }
                    },
                    "keywords": { "type": "array", "items": { "type": "string" } },
                    "doi": { "type": "string" },
                    "pdfUrl": { "type": "string", "format": "uri" },
                    "source": {
                      "description": "External source identifier (e.g., arxiv, semanticscholar)",
                      "type": "string",
                      "minLength": 2,
                      "maxLength": 50,
                      "pattern": "^[a-z0-9]+$"
                    },
                    "externalId": { "type": "string" },
                    "externalUrl": { "type": "string", "format": "uri" },
                    "publicationDate": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "externalIds": {
                      "type": "object",
                      "properties": {
                        "arxivId": { "type": "string" },
                        "doi": { "type": "string" }
                      },
                      "additionalProperties": false
                    },
                    "existingChivePaper": {
                      "type": "object",
                      "properties": {
                        "uri": { "description": "AT-URI of the existing paper", "type": "string" },
                        "title": { "description": "Paper title", "type": "string" },
                        "authors": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "did": { "type": "string" },
                              "name": { "type": "string" }
                            },
                            "required": ["name"],
                            "additionalProperties": false
                          }
                        },
                        "createdAt": {
                          "description": "When the paper was indexed",
                          "type": "string",
                          "format": "date-time",
                          "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                        }
                      },
                      "required": ["uri", "title", "authors", "createdAt"],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "title",
                    "abstract",
                    "authors",
                    "keywords",
                    "source",
                    "externalId",
                    "externalUrl"
                  ],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.requestCoauthorship": {
      "post": {
        "operationId": "pub_chive_claiming_requestCoauthorship",
        "summary": "Request co-authorship on an eprint in another user's PDS",
        "tags": ["claiming"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "eprintUri": { "description": "AT-URI of the eprint record", "type": "string" },
                  "eprintOwnerDid": { "description": "DID of the PDS owner", "type": "string" },
                  "claimantName": {
                    "description": "Display name for the request",
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 200
                  },
                  "authorIndex": {
                    "description": "Index of the author entry being claimed (0-based)",
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 9007199254740991
                  },
                  "authorName": {
                    "description": "Name of the author entry being claimed",
                    "type": "string",
                    "minLength": 1,
                    "maxLength": 200
                  },
                  "message": {
                    "description": "Optional message to PDS owner",
                    "type": "string",
                    "maxLength": 1000
                  }
                },
                "required": [
                  "eprintUri",
                  "eprintOwnerDid",
                  "claimantName",
                  "authorIndex",
                  "authorName"
                ],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "request": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "eprintUri": {
                          "description": "AT-URI of the eprint record",
                          "type": "string"
                        },
                        "eprintOwnerDid": {
                          "description": "DID of the PDS owner",
                          "type": "string"
                        },
                        "claimantDid": { "description": "DID of the claimant", "type": "string" },
                        "claimantName": {
                          "description": "Display name at time of request",
                          "type": "string"
                        },
                        "authorIndex": {
                          "description": "Index of the author entry being claimed (0-based)",
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "authorName": {
                          "description": "Name of the author entry being claimed",
                          "type": "string"
                        },
                        "status": { "type": "string", "enum": ["pending", "approved", "rejected"] },
                        "message": { "description": "Message from claimant", "type": "string" },
                        "rejectionReason": { "description": "Rejection reason", "type": "string" },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time",
                          "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                        },
                        "reviewedAt": {
                          "type": "string",
                          "format": "date-time",
                          "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                        }
                      },
                      "required": [
                        "id",
                        "eprintUri",
                        "eprintOwnerDid",
                        "claimantDid",
                        "claimantName",
                        "authorIndex",
                        "authorName",
                        "status",
                        "createdAt"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": ["request"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.getCoauthorRequests": {
      "get": {
        "operationId": "pub_chive_claiming_getCoauthorRequests",
        "summary": "Get pending co-author requests on your eprints",
        "tags": ["claiming"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "minimum": 1, "maximum": 100 }
          },
          { "name": "cursor", "in": "query", "required": false, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "requests": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "eprintUri": {
                            "description": "AT-URI of the eprint record",
                            "type": "string"
                          },
                          "eprintOwnerDid": {
                            "description": "DID of the PDS owner",
                            "type": "string"
                          },
                          "claimantDid": { "description": "DID of the claimant", "type": "string" },
                          "claimantName": {
                            "description": "Display name at time of request",
                            "type": "string"
                          },
                          "authorIndex": {
                            "description": "Index of the author entry being claimed (0-based)",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "authorName": {
                            "description": "Name of the author entry being claimed",
                            "type": "string"
                          },
                          "status": {
                            "type": "string",
                            "enum": ["pending", "approved", "rejected"]
                          },
                          "message": { "description": "Message from claimant", "type": "string" },
                          "rejectionReason": {
                            "description": "Rejection reason",
                            "type": "string"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "reviewedAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": [
                          "id",
                          "eprintUri",
                          "eprintOwnerDid",
                          "claimantDid",
                          "claimantName",
                          "authorIndex",
                          "authorName",
                          "status",
                          "createdAt"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" }
                  },
                  "required": ["requests"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.getMyCoauthorRequests": {
      "get": {
        "operationId": "pub_chive_claiming_getMyCoauthorRequests",
        "summary": "Get your co-author requests (as claimant)",
        "tags": ["claiming"],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": { "type": "string", "enum": ["pending", "approved", "rejected"] }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "minimum": 1, "maximum": 100 }
          },
          { "name": "cursor", "in": "query", "required": false, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "requests": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "eprintUri": {
                            "description": "AT-URI of the eprint record",
                            "type": "string"
                          },
                          "eprintOwnerDid": {
                            "description": "DID of the PDS owner",
                            "type": "string"
                          },
                          "claimantDid": { "description": "DID of the claimant", "type": "string" },
                          "claimantName": {
                            "description": "Display name at time of request",
                            "type": "string"
                          },
                          "authorIndex": {
                            "description": "Index of the author entry being claimed (0-based)",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "authorName": {
                            "description": "Name of the author entry being claimed",
                            "type": "string"
                          },
                          "status": {
                            "type": "string",
                            "enum": ["pending", "approved", "rejected"]
                          },
                          "message": { "description": "Message from claimant", "type": "string" },
                          "rejectionReason": {
                            "description": "Rejection reason",
                            "type": "string"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "reviewedAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": [
                          "id",
                          "eprintUri",
                          "eprintOwnerDid",
                          "claimantDid",
                          "claimantName",
                          "authorIndex",
                          "authorName",
                          "status",
                          "createdAt"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" }
                  },
                  "required": ["requests"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.approveCoauthor": {
      "post": {
        "operationId": "pub_chive_claiming_approveCoauthor",
        "summary": "Approve a co-author request on your eprint",
        "tags": ["claiming"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "requestId": {
                    "description": "ID of the co-author request",
                    "type": "integer",
                    "minimum": -9007199254740991,
                    "maximum": 9007199254740991
                  }
                },
                "required": ["requestId"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "success": { "type": "boolean" } },
                  "required": ["success"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.claiming.rejectCoauthor": {
      "post": {
        "operationId": "pub_chive_claiming_rejectCoauthor",
        "summary": "Reject a co-author request on your eprint",
        "tags": ["claiming"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "requestId": {
                    "description": "ID of the co-author request",
                    "type": "integer",
                    "minimum": -9007199254740991,
                    "maximum": 9007199254740991
                  },
                  "reason": {
                    "description": "Rejection reason",
                    "type": "string",
                    "maxLength": 500
                  }
                },
                "required": ["requestId"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "success": { "type": "boolean" } },
                  "required": ["success"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.discovery.getRecommendations": {
      "get": {
        "operationId": "pub_chive_discovery_getRecommendations",
        "summary": "Get personalized paper recommendations",
        "tags": ["discovery"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of recommendations",
              "default": 20,
              "type": "integer",
              "minimum": 1,
              "maximum": 50
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Pagination cursor", "type": "string" }
          },
          {
            "name": "signals",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Signal types to include. \"graph\" adds co-citation and PageRank-based recommendations",
              "type": "array",
              "items": {
                "type": "string",
                "enum": ["fields", "citations", "collaborators", "trending", "graph"]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "recommendations": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": { "type": "string" },
                          "title": { "type": "string" },
                          "abstract": { "type": "string" },
                          "authors": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": { "name": { "type": "string" } },
                              "required": ["name"],
                              "additionalProperties": false
                            }
                          },
                          "categories": { "type": "array", "items": { "type": "string" } },
                          "publicationDate": { "type": "string" },
                          "score": { "type": "number", "minimum": 0, "maximum": 1 },
                          "explanation": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "semantic",
                                  "citation",
                                  "concept",
                                  "collaborator",
                                  "fields",
                                  "trending"
                                ]
                              },
                              "text": { "type": "string" },
                              "weight": { "type": "number", "minimum": 0, "maximum": 1 },
                              "data": {
                                "type": "object",
                                "properties": {
                                  "similarPaperTitle": { "type": "string" },
                                  "sharedCitations": {
                                    "type": "integer",
                                    "minimum": -9007199254740991,
                                    "maximum": 9007199254740991
                                  },
                                  "matchingConcepts": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  }
                                },
                                "additionalProperties": false
                              }
                            },
                            "required": ["type", "text", "weight"],
                            "additionalProperties": false
                          }
                        },
                        "required": ["uri", "title", "score", "explanation"],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "hasMore": { "type": "boolean" }
                  },
                  "required": ["recommendations", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.discovery.getForYou": {
      "get": {
        "operationId": "pub_chive_discovery_getForYou",
        "summary": "Get personalized For You feed",
        "tags": ["discovery"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Number of items to return",
              "default": 20,
              "type": "number",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Pagination cursor", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "recommendations": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": { "type": "string" },
                          "title": { "type": "string" },
                          "abstract": { "type": "string" },
                          "authors": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": { "name": { "type": "string" } },
                              "required": ["name"],
                              "additionalProperties": false
                            }
                          },
                          "categories": { "type": "array", "items": { "type": "string" } },
                          "publicationDate": { "type": "string" },
                          "score": { "type": "number", "minimum": 0, "maximum": 1 },
                          "explanation": {
                            "type": "object",
                            "properties": {
                              "type": {
                                "type": "string",
                                "enum": [
                                  "semantic",
                                  "citation",
                                  "concept",
                                  "collaborator",
                                  "fields",
                                  "trending"
                                ]
                              },
                              "text": { "type": "string" },
                              "weight": { "type": "number", "minimum": 0, "maximum": 1 },
                              "data": {
                                "type": "object",
                                "properties": {
                                  "similarPaperTitle": { "type": "string" },
                                  "sharedCitations": {
                                    "type": "integer",
                                    "minimum": -9007199254740991,
                                    "maximum": 9007199254740991
                                  },
                                  "matchingConcepts": {
                                    "type": "array",
                                    "items": { "type": "string" }
                                  }
                                },
                                "additionalProperties": false
                              }
                            },
                            "required": ["type", "text", "weight"],
                            "additionalProperties": false
                          }
                        },
                        "required": ["uri", "title", "score", "explanation"],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "hasMore": { "type": "boolean" }
                  },
                  "required": ["recommendations", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.discovery.getSimilar": {
      "get": {
        "operationId": "pub_chive_discovery_getSimilar",
        "summary": "Get related papers for an eprint",
        "tags": ["discovery"],
        "parameters": [
          {
            "name": "uri",
            "in": "query",
            "required": true,
            "schema": { "description": "AT URI of the eprint", "type": "string" }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of similar papers",
              "default": 5,
              "type": "integer",
              "minimum": 1,
              "maximum": 20
            }
          },
          {
            "name": "includeTypes",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Types of relationships to include. \"co-citation\" and \"bibliographic-coupling\" use graph analysis",
              "type": "array",
              "items": {
                "type": "string",
                "enum": [
                  "semantic",
                  "citation",
                  "topic",
                  "author",
                  "co-citation",
                  "bibliographic-coupling"
                ]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "eprint": {
                      "type": "object",
                      "properties": { "uri": { "type": "string" }, "title": { "type": "string" } },
                      "required": ["uri", "title"],
                      "additionalProperties": false
                    },
                    "related": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": { "type": "string" },
                          "title": { "type": "string" },
                          "abstract": { "type": "string" },
                          "authors": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": { "name": { "type": "string" } },
                              "required": ["name"],
                              "additionalProperties": false
                            }
                          },
                          "categories": { "type": "array", "items": { "type": "string" } },
                          "publicationDate": { "type": "string" },
                          "score": { "type": "number", "minimum": 0, "maximum": 1 },
                          "relationshipType": {
                            "type": "string",
                            "enum": [
                              "cites",
                              "cited-by",
                              "co-cited",
                              "semantically-similar",
                              "same-author",
                              "same-topic",
                              "bibliographic-coupling"
                            ]
                          },
                          "explanation": { "type": "string" },
                          "sharedReferences": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "sharedCiters": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          }
                        },
                        "required": ["uri", "title", "score", "relationshipType", "explanation"],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["eprint", "related"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.discovery.getCitations": {
      "get": {
        "operationId": "pub_chive_discovery_getCitations",
        "summary": "Get citation network for an eprint",
        "tags": ["discovery"],
        "parameters": [
          {
            "name": "uri",
            "in": "query",
            "required": true,
            "schema": { "description": "AT URI of the eprint", "type": "string" }
          },
          {
            "name": "direction",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Citation direction",
              "default": "both",
              "type": "string",
              "enum": ["citing", "cited-by", "both"]
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of citations",
              "default": 20,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Pagination cursor", "type": "string" }
          },
          {
            "name": "onlyInfluential",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Only return influential citations",
              "default": false,
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "eprint": {
                      "type": "object",
                      "properties": { "uri": { "type": "string" }, "title": { "type": "string" } },
                      "required": ["uri", "title"],
                      "additionalProperties": false
                    },
                    "counts": {
                      "type": "object",
                      "properties": {
                        "citedByCount": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "referencesCount": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "influentialCitedByCount": {
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": ["citedByCount", "referencesCount", "influentialCitedByCount"],
                      "additionalProperties": false
                    },
                    "citations": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "citingUri": { "type": "string" },
                          "citedUri": { "type": "string" },
                          "isInfluential": { "type": "boolean" },
                          "source": { "type": "string" },
                          "discoveredAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": ["citingUri", "citedUri", "source"],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "hasMore": { "type": "boolean" }
                  },
                  "required": ["eprint", "counts", "citations", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.discovery.getEnrichment": {
      "get": {
        "operationId": "pub_chive_discovery_getEnrichment",
        "summary": "Get enrichment data for an eprint",
        "tags": ["discovery"],
        "parameters": [
          {
            "name": "uri",
            "in": "query",
            "required": true,
            "schema": { "description": "AT URI of the eprint", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "enrichment": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "uri": { "type": "string" },
                            "semanticScholarId": { "type": "string" },
                            "openAlexId": { "type": "string" },
                            "citationCount": {
                              "type": "integer",
                              "minimum": -9007199254740991,
                              "maximum": 9007199254740991
                            },
                            "influentialCitationCount": {
                              "type": "integer",
                              "minimum": -9007199254740991,
                              "maximum": 9007199254740991
                            },
                            "referencesCount": {
                              "type": "integer",
                              "minimum": -9007199254740991,
                              "maximum": 9007199254740991
                            },
                            "concepts": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "id": { "type": "string" },
                                  "displayName": { "type": "string" },
                                  "wikidataId": { "type": "string" },
                                  "score": { "type": "number" }
                                },
                                "required": ["id", "displayName"],
                                "additionalProperties": false
                              }
                            },
                            "topics": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "id": { "type": "string" },
                                  "displayName": { "type": "string" },
                                  "subfield": { "type": "string" },
                                  "field": { "type": "string" },
                                  "domain": { "type": "string" },
                                  "score": { "type": "number" }
                                },
                                "required": ["id", "displayName"],
                                "additionalProperties": false
                              }
                            },
                            "lastEnrichedAt": {
                              "type": "string",
                              "format": "date-time",
                              "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                            }
                          },
                          "required": ["uri"],
                          "additionalProperties": false
                        },
                        { "type": "null" }
                      ]
                    },
                    "available": {
                      "description": "Whether enrichment data is available",
                      "type": "boolean"
                    }
                  },
                  "required": ["enrichment", "available"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.discovery.recordInteraction": {
      "post": {
        "operationId": "pub_chive_discovery_recordInteraction",
        "summary": "Record user interaction with a recommendation",
        "tags": ["discovery"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "eprintUri": { "description": "AT URI of the eprint", "type": "string" },
                  "type": {
                    "description": "Interaction type",
                    "type": "string",
                    "enum": ["view", "click", "endorse", "dismiss", "claim"]
                  },
                  "recommendationId": {
                    "description": "ID of recommendation that led here",
                    "type": "string"
                  }
                },
                "required": ["eprintUri", "type"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "recorded": { "type": "boolean" } },
                  "required": ["recorded"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.endorsement.listForEprint": {
      "get": {
        "operationId": "pub_chive_endorsement_listForEprint",
        "summary": "List endorsements for an eprint",
        "tags": ["endorsement"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          {
            "name": "eprintUri",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Eprint AT-URI",
              "type": "string",
              "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
            }
          },
          {
            "name": "contributionType",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by contribution type",
              "type": "string",
              "enum": [
                "methodological",
                "analytical",
                "theoretical",
                "empirical",
                "conceptual",
                "technical",
                "data",
                "replication",
                "reproducibility",
                "synthesis",
                "interdisciplinary",
                "pedagogical",
                "visualization",
                "societal-impact",
                "clinical"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "endorsements": {
                      "description": "List of endorsements",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": {
                            "description": "Endorsement AT-URI",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "eprintUri": {
                            "description": "Endorsed eprint AT-URI",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "endorser": {
                            "description": "Endorser",
                            "type": "object",
                            "properties": {
                              "did": {
                                "description": "Decentralized Identifier",
                                "type": "string",
                                "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                              },
                              "handle": { "description": "Author handle", "type": "string" },
                              "displayName": { "description": "Display name", "type": "string" },
                              "avatar": {
                                "description": "Avatar URL",
                                "type": "string",
                                "format": "uri"
                              }
                            },
                            "required": ["did"],
                            "additionalProperties": false
                          },
                          "contributions": {
                            "description": "Contribution types",
                            "minItems": 1,
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "methodological",
                                "analytical",
                                "theoretical",
                                "empirical",
                                "conceptual",
                                "technical",
                                "data",
                                "replication",
                                "reproducibility",
                                "synthesis",
                                "interdisciplinary",
                                "pedagogical",
                                "visualization",
                                "societal-impact",
                                "clinical"
                              ]
                            }
                          },
                          "comment": {
                            "description": "Optional comment",
                            "type": "string",
                            "maxLength": 1000
                          },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "updatedAt": {
                            "description": "Last update timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": ["uri", "eprintUri", "endorser", "contributions", "createdAt"],
                        "additionalProperties": false
                      }
                    },
                    "summary": {
                      "description": "Aggregated summary",
                      "type": "object",
                      "properties": {
                        "total": {
                          "description": "Total endorsement count",
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "endorserCount": {
                          "description": "Unique endorser count",
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "byType": {
                          "description": "Count by contribution type",
                          "type": "object",
                          "propertyNames": { "type": "string" },
                          "additionalProperties": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          }
                        }
                      },
                      "required": ["total", "endorserCount", "byType"],
                      "additionalProperties": false
                    },
                    "cursor": { "description": "Cursor for next page", "type": "string" },
                    "hasMore": { "description": "Whether more results exist", "type": "boolean" },
                    "total": {
                      "description": "Total count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["endorsements", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.endorsement.getSummary": {
      "get": {
        "operationId": "pub_chive_endorsement_getSummary",
        "summary": "Get endorsement summary for an eprint",
        "tags": ["endorsement"],
        "parameters": [
          {
            "name": "eprintUri",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Eprint AT-URI",
              "type": "string",
              "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "total": {
                      "description": "Total endorsement count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "endorserCount": {
                      "description": "Unique endorser count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "byType": {
                      "description": "Count by contribution type",
                      "type": "object",
                      "propertyNames": { "type": "string" },
                      "additionalProperties": {
                        "type": "integer",
                        "minimum": -9007199254740991,
                        "maximum": 9007199254740991
                      }
                    }
                  },
                  "required": ["total", "endorserCount", "byType"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.endorsement.getUserEndorsement": {
      "get": {
        "operationId": "pub_chive_endorsement_getUserEndorsement",
        "summary": "Get a user's endorsement for an eprint",
        "tags": ["endorsement"],
        "parameters": [
          {
            "name": "eprintUri",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Eprint AT-URI",
              "type": "string",
              "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
            }
          },
          {
            "name": "userDid",
            "in": "query",
            "required": true,
            "schema": {
              "description": "User DID",
              "type": "string",
              "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "uri": {
                      "description": "Endorsement AT-URI",
                      "type": "string",
                      "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                    },
                    "eprintUri": {
                      "description": "Endorsed eprint AT-URI",
                      "type": "string",
                      "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                    },
                    "endorser": {
                      "description": "Endorser",
                      "type": "object",
                      "properties": {
                        "did": {
                          "description": "Decentralized Identifier",
                          "type": "string",
                          "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                        },
                        "handle": { "description": "Author handle", "type": "string" },
                        "displayName": { "description": "Display name", "type": "string" },
                        "avatar": { "description": "Avatar URL", "type": "string", "format": "uri" }
                      },
                      "required": ["did"],
                      "additionalProperties": false
                    },
                    "contributions": {
                      "description": "Contribution types",
                      "minItems": 1,
                      "type": "array",
                      "items": {
                        "type": "string",
                        "enum": [
                          "methodological",
                          "analytical",
                          "theoretical",
                          "empirical",
                          "conceptual",
                          "technical",
                          "data",
                          "replication",
                          "reproducibility",
                          "synthesis",
                          "interdisciplinary",
                          "pedagogical",
                          "visualization",
                          "societal-impact",
                          "clinical"
                        ]
                      }
                    },
                    "comment": {
                      "description": "Optional comment",
                      "type": "string",
                      "maxLength": 1000
                    },
                    "createdAt": {
                      "description": "Creation timestamp",
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "updatedAt": {
                      "description": "Last update timestamp",
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    }
                  },
                  "required": ["uri", "eprintUri", "endorser", "contributions", "createdAt"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.listProposals": {
      "get": {
        "operationId": "pub_chive_governance_listProposals",
        "summary": "List governance proposals",
        "tags": ["governance"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by proposal category",
              "type": "string",
              "enum": ["field", "concept", "institution", "facet", "authority", "external-link"]
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": { "type": "string", "enum": ["pending", "approved", "rejected", "expired"] }
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": { "type": "string", "enum": ["create", "update", "merge", "delete"] }
          },
          { "name": "fieldId", "in": "query", "required": false, "schema": { "type": "string" } },
          { "name": "proposedBy", "in": "query", "required": false, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "proposals": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "uri": { "type": "string" },
                          "fieldId": { "type": "string" },
                          "label": { "type": "string" },
                          "type": {
                            "type": "string",
                            "enum": ["create", "update", "merge", "delete"]
                          },
                          "changes": {
                            "type": "object",
                            "properties": {
                              "label": { "type": "string" },
                              "description": { "type": "string" },
                              "parentId": { "type": "string" },
                              "mergeTargetId": { "type": "string" },
                              "wikidataId": { "type": "string" },
                              "fieldType": {
                                "type": "string",
                                "enum": ["field", "root", "subfield", "topic"]
                              },
                              "conceptCategory": {
                                "type": "string",
                                "enum": [
                                  "institution-type",
                                  "paper-type",
                                  "methodology",
                                  "geographic-scope",
                                  "temporal-scope",
                                  "document-format",
                                  "publication-status",
                                  "access-type",
                                  "platform-code",
                                  "platform-data",
                                  "platform-preprint",
                                  "platform-preregistration",
                                  "platform-protocol",
                                  "supplementary-type",
                                  "researcher-type",
                                  "identifier-type",
                                  "presentation-type"
                                ]
                              },
                              "authorityType": {
                                "type": "string",
                                "enum": [
                                  "person",
                                  "organization",
                                  "topic",
                                  "geographic",
                                  "temporal",
                                  "form"
                                ]
                              },
                              "alternateLabels": { "type": "array", "items": { "type": "string" } },
                              "lcshId": { "type": "string" },
                              "fastId": { "type": "string" },
                              "viafId": { "type": "string" },
                              "orcid": { "type": "string" },
                              "ror": { "type": "string" },
                              "dimension": {
                                "description": "PMEST/FAST facet dimension",
                                "type": "string"
                              },
                              "facetLevel": { "type": "number" }
                            },
                            "additionalProperties": false
                          },
                          "rationale": { "type": "string" },
                          "status": {
                            "type": "string",
                            "enum": ["pending", "approved", "rejected", "expired"]
                          },
                          "proposedBy": { "type": "string" },
                          "proposerName": { "type": "string" },
                          "votes": {
                            "type": "object",
                            "properties": {
                              "approve": { "type": "number" },
                              "reject": { "type": "number" },
                              "abstain": { "type": "number" }
                            },
                            "required": ["approve", "reject", "abstain"],
                            "additionalProperties": false
                          },
                          "consensus": {
                            "type": "object",
                            "properties": {
                              "approvalPercentage": { "type": "number" },
                              "threshold": { "type": "number" },
                              "voterCount": { "type": "number" },
                              "minimumVotes": { "type": "number" },
                              "consensusReached": { "type": "boolean" },
                              "recommendedStatus": {
                                "type": "string",
                                "enum": ["approved", "rejected", "pending"]
                              }
                            },
                            "required": [
                              "approvalPercentage",
                              "threshold",
                              "voterCount",
                              "minimumVotes",
                              "consensusReached",
                              "recommendedStatus"
                            ],
                            "additionalProperties": false
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "updatedAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "expiresAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": [
                          "id",
                          "uri",
                          "type",
                          "changes",
                          "rationale",
                          "status",
                          "proposedBy",
                          "votes",
                          "createdAt"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "total": { "type": "number" }
                  },
                  "required": ["proposals", "total"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.getProposal": {
      "get": {
        "operationId": "pub_chive_governance_getProposal",
        "summary": "Get a governance proposal by ID",
        "tags": ["governance"],
        "parameters": [
          { "name": "proposalId", "in": "query", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string" },
                    "uri": { "type": "string" },
                    "fieldId": { "type": "string" },
                    "label": { "type": "string" },
                    "type": { "type": "string", "enum": ["create", "update", "merge", "delete"] },
                    "changes": {
                      "type": "object",
                      "properties": {
                        "label": { "type": "string" },
                        "description": { "type": "string" },
                        "parentId": { "type": "string" },
                        "mergeTargetId": { "type": "string" },
                        "wikidataId": { "type": "string" },
                        "fieldType": {
                          "type": "string",
                          "enum": ["field", "root", "subfield", "topic"]
                        },
                        "conceptCategory": {
                          "type": "string",
                          "enum": [
                            "institution-type",
                            "paper-type",
                            "methodology",
                            "geographic-scope",
                            "temporal-scope",
                            "document-format",
                            "publication-status",
                            "access-type",
                            "platform-code",
                            "platform-data",
                            "platform-preprint",
                            "platform-preregistration",
                            "platform-protocol",
                            "supplementary-type",
                            "researcher-type",
                            "identifier-type",
                            "presentation-type"
                          ]
                        },
                        "authorityType": {
                          "type": "string",
                          "enum": [
                            "person",
                            "organization",
                            "topic",
                            "geographic",
                            "temporal",
                            "form"
                          ]
                        },
                        "alternateLabels": { "type": "array", "items": { "type": "string" } },
                        "lcshId": { "type": "string" },
                        "fastId": { "type": "string" },
                        "viafId": { "type": "string" },
                        "orcid": { "type": "string" },
                        "ror": { "type": "string" },
                        "dimension": {
                          "description": "PMEST/FAST facet dimension",
                          "type": "string"
                        },
                        "facetLevel": { "type": "number" }
                      },
                      "additionalProperties": false
                    },
                    "rationale": { "type": "string" },
                    "status": {
                      "type": "string",
                      "enum": ["pending", "approved", "rejected", "expired"]
                    },
                    "proposedBy": { "type": "string" },
                    "proposerName": { "type": "string" },
                    "votes": {
                      "type": "object",
                      "properties": {
                        "approve": { "type": "number" },
                        "reject": { "type": "number" },
                        "abstain": { "type": "number" }
                      },
                      "required": ["approve", "reject", "abstain"],
                      "additionalProperties": false
                    },
                    "consensus": {
                      "type": "object",
                      "properties": {
                        "approvalPercentage": { "type": "number" },
                        "threshold": { "type": "number" },
                        "voterCount": { "type": "number" },
                        "minimumVotes": { "type": "number" },
                        "consensusReached": { "type": "boolean" },
                        "recommendedStatus": {
                          "type": "string",
                          "enum": ["approved", "rejected", "pending"]
                        }
                      },
                      "required": [
                        "approvalPercentage",
                        "threshold",
                        "voterCount",
                        "minimumVotes",
                        "consensusReached",
                        "recommendedStatus"
                      ],
                      "additionalProperties": false
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "updatedAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "expiresAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    }
                  },
                  "required": [
                    "id",
                    "uri",
                    "type",
                    "changes",
                    "rationale",
                    "status",
                    "proposedBy",
                    "votes",
                    "createdAt"
                  ],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.listVotes": {
      "get": {
        "operationId": "pub_chive_governance_listVotes",
        "summary": "List votes for a governance proposal",
        "tags": ["governance"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          { "name": "proposalId", "in": "query", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "votes": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "uri": { "type": "string" },
                          "proposalUri": { "type": "string" },
                          "voterDid": { "type": "string" },
                          "voterName": { "type": "string" },
                          "voterRole": {
                            "type": "string",
                            "enum": [
                              "community-member",
                              "reviewer",
                              "domain-expert",
                              "administrator"
                            ]
                          },
                          "vote": {
                            "type": "string",
                            "enum": ["approve", "reject", "abstain", "request-changes"]
                          },
                          "weight": { "type": "number" },
                          "rationale": { "type": "string" },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": [
                          "id",
                          "uri",
                          "proposalUri",
                          "voterDid",
                          "voterRole",
                          "vote",
                          "weight",
                          "createdAt"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "total": { "type": "number" }
                  },
                  "required": ["votes", "total"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.getUserVote": {
      "get": {
        "operationId": "pub_chive_governance_getUserVote",
        "summary": "Get a user's vote on a proposal",
        "tags": ["governance"],
        "parameters": [
          {
            "name": "proposalId",
            "in": "query",
            "required": true,
            "schema": { "description": "Proposal ID", "type": "string" }
          },
          {
            "name": "userDid",
            "in": "query",
            "required": true,
            "schema": { "description": "User DID", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "vote": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "id": { "type": "string" },
                            "uri": { "type": "string" },
                            "proposalUri": { "type": "string" },
                            "voterDid": { "type": "string" },
                            "voterName": { "type": "string" },
                            "voterRole": {
                              "type": "string",
                              "enum": [
                                "community-member",
                                "reviewer",
                                "domain-expert",
                                "administrator"
                              ]
                            },
                            "vote": {
                              "type": "string",
                              "enum": ["approve", "reject", "abstain", "request-changes"]
                            },
                            "weight": { "type": "number" },
                            "rationale": { "type": "string" },
                            "createdAt": {
                              "type": "string",
                              "format": "date-time",
                              "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                            }
                          },
                          "required": [
                            "id",
                            "uri",
                            "proposalUri",
                            "voterDid",
                            "voterRole",
                            "vote",
                            "weight",
                            "createdAt"
                          ],
                          "additionalProperties": false
                        },
                        { "type": "null" }
                      ]
                    }
                  },
                  "required": ["vote"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.getPendingCount": {
      "get": {
        "operationId": "pub_chive_governance_getPendingCount",
        "summary": "Get count of pending governance proposals",
        "tags": ["governance"],
        "parameters": [],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {
                      "description": "Number of pending proposals",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["count"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.getEditorStatus": {
      "get": {
        "operationId": "pub_chive_governance_getEditorStatus",
        "summary": "Get trusted editor status and reputation metrics for a user",
        "tags": ["governance"],
        "parameters": [
          {
            "name": "did",
            "in": "query",
            "required": false,
            "schema": {
              "description": "User DID (defaults to authenticated user)",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "did": { "type": "string" },
                    "displayName": { "type": "string" },
                    "role": {
                      "type": "string",
                      "enum": [
                        "community-member",
                        "trusted-editor",
                        "authority-editor",
                        "domain-expert",
                        "administrator"
                      ]
                    },
                    "roleGrantedAt": { "type": "number" },
                    "roleGrantedBy": { "type": "string" },
                    "hasDelegation": { "type": "boolean" },
                    "delegationExpiresAt": { "type": "number" },
                    "delegationCollections": { "type": "array", "items": { "type": "string" } },
                    "recordsCreatedToday": { "type": "number" },
                    "dailyRateLimit": { "type": "number" },
                    "metrics": {
                      "type": "object",
                      "properties": {
                        "did": { "type": "string" },
                        "accountCreatedAt": { "type": "number" },
                        "accountAgeDays": { "type": "number" },
                        "eprintCount": { "type": "number" },
                        "wellEndorsedEprintCount": { "type": "number" },
                        "totalEndorsements": { "type": "number" },
                        "proposalCount": { "type": "number" },
                        "voteCount": { "type": "number" },
                        "successfulProposals": { "type": "number" },
                        "warningCount": { "type": "number" },
                        "violationCount": { "type": "number" },
                        "reputationScore": { "type": "number" },
                        "role": {
                          "type": "string",
                          "enum": [
                            "community-member",
                            "trusted-editor",
                            "authority-editor",
                            "domain-expert",
                            "administrator"
                          ]
                        },
                        "eligibleForTrustedEditor": { "type": "boolean" },
                        "missingCriteria": { "type": "array", "items": { "type": "string" } }
                      },
                      "required": [
                        "did",
                        "accountCreatedAt",
                        "accountAgeDays",
                        "eprintCount",
                        "wellEndorsedEprintCount",
                        "totalEndorsements",
                        "proposalCount",
                        "voteCount",
                        "successfulProposals",
                        "warningCount",
                        "violationCount",
                        "reputationScore",
                        "role",
                        "eligibleForTrustedEditor",
                        "missingCriteria"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "did",
                    "role",
                    "hasDelegation",
                    "recordsCreatedToday",
                    "dailyRateLimit",
                    "metrics"
                  ],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.listTrustedEditors": {
      "get": {
        "operationId": "pub_chive_governance_listTrustedEditors",
        "summary": "List all users with trusted editor or higher roles (admin only)",
        "tags": ["governance"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          {
            "name": "role",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by role",
              "type": "string",
              "enum": [
                "community-member",
                "trusted-editor",
                "authority-editor",
                "domain-expert",
                "administrator"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "editors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "did": { "type": "string" },
                          "handle": { "type": "string" },
                          "displayName": { "type": "string" },
                          "role": {
                            "type": "string",
                            "enum": [
                              "community-member",
                              "trusted-editor",
                              "authority-editor",
                              "domain-expert",
                              "administrator"
                            ]
                          },
                          "roleGrantedAt": { "type": "number" },
                          "roleGrantedBy": { "type": "string" },
                          "hasDelegation": { "type": "boolean" },
                          "delegationExpiresAt": { "type": "number" },
                          "recordsCreatedToday": { "type": "number" },
                          "dailyRateLimit": { "type": "number" },
                          "metrics": {
                            "type": "object",
                            "properties": {
                              "did": { "type": "string" },
                              "accountCreatedAt": { "type": "number" },
                              "accountAgeDays": { "type": "number" },
                              "eprintCount": { "type": "number" },
                              "wellEndorsedEprintCount": { "type": "number" },
                              "totalEndorsements": { "type": "number" },
                              "proposalCount": { "type": "number" },
                              "voteCount": { "type": "number" },
                              "successfulProposals": { "type": "number" },
                              "warningCount": { "type": "number" },
                              "violationCount": { "type": "number" },
                              "reputationScore": { "type": "number" },
                              "role": {
                                "type": "string",
                                "enum": [
                                  "community-member",
                                  "trusted-editor",
                                  "authority-editor",
                                  "domain-expert",
                                  "administrator"
                                ]
                              },
                              "eligibleForTrustedEditor": { "type": "boolean" },
                              "missingCriteria": { "type": "array", "items": { "type": "string" } }
                            },
                            "required": [
                              "did",
                              "accountCreatedAt",
                              "accountAgeDays",
                              "eprintCount",
                              "wellEndorsedEprintCount",
                              "totalEndorsements",
                              "proposalCount",
                              "voteCount",
                              "successfulProposals",
                              "warningCount",
                              "violationCount",
                              "reputationScore",
                              "role",
                              "eligibleForTrustedEditor",
                              "missingCriteria"
                            ],
                            "additionalProperties": false
                          }
                        },
                        "required": [
                          "did",
                          "role",
                          "roleGrantedAt",
                          "hasDelegation",
                          "recordsCreatedToday",
                          "dailyRateLimit",
                          "metrics"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "total": { "type": "number" }
                  },
                  "required": ["editors", "total"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.requestElevation": {
      "post": {
        "operationId": "pub_chive_governance_requestElevation",
        "summary": "Request elevation to trusted editor role",
        "tags": ["governance"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "targetRole": {
                    "description": "Role to request elevation to",
                    "type": "string",
                    "enum": ["trusted-editor"]
                  }
                },
                "required": ["targetRole"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "requestId": { "type": "string" },
                    "message": { "type": "string" }
                  },
                  "required": ["success", "message"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.grantDelegation": {
      "post": {
        "operationId": "pub_chive_governance_grantDelegation",
        "summary": "Grant PDS delegation to a trusted editor (admin only)",
        "tags": ["governance"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "delegateDid": { "type": "string" },
                  "collections": { "minItems": 1, "type": "array", "items": { "type": "string" } },
                  "daysValid": { "default": 365, "type": "number", "minimum": 1, "maximum": 365 },
                  "maxRecordsPerDay": {
                    "default": 100,
                    "type": "number",
                    "minimum": 1,
                    "maximum": 1000
                  }
                },
                "required": ["delegateDid", "collections", "daysValid", "maxRecordsPerDay"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "delegationId": { "type": "string" },
                    "message": { "type": "string" }
                  },
                  "required": ["success", "message"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.revokeDelegation": {
      "post": {
        "operationId": "pub_chive_governance_revokeDelegation",
        "summary": "Revoke an active PDS delegation (admin only)",
        "tags": ["governance"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": { "delegationId": { "type": "string" } },
                "required": ["delegationId"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "delegationId": { "type": "string" },
                    "message": { "type": "string" }
                  },
                  "required": ["success", "message"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.revokeRole": {
      "post": {
        "operationId": "pub_chive_governance_revokeRole",
        "summary": "Revoke a user's governance role (admin only)",
        "tags": ["governance"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "did": { "type": "string" },
                  "reason": { "type": "string", "minLength": 10, "maxLength": 1000 }
                },
                "required": ["did", "reason"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "requestId": { "type": "string" },
                    "message": { "type": "string" }
                  },
                  "required": ["success", "message"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.listElevationRequests": {
      "get": {
        "operationId": "pub_chive_governance_listElevationRequests",
        "summary": "List pending elevation requests (admin only)",
        "tags": ["governance"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          {
            "name": "role",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by role",
              "type": "string",
              "enum": [
                "community-member",
                "trusted-editor",
                "authority-editor",
                "domain-expert",
                "administrator"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "requests": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "did": { "type": "string" },
                          "handle": { "type": "string" },
                          "displayName": { "type": "string" },
                          "requestedRole": {
                            "type": "string",
                            "enum": [
                              "community-member",
                              "trusted-editor",
                              "authority-editor",
                              "domain-expert",
                              "administrator"
                            ]
                          },
                          "currentRole": {
                            "type": "string",
                            "enum": [
                              "community-member",
                              "trusted-editor",
                              "authority-editor",
                              "domain-expert",
                              "administrator"
                            ]
                          },
                          "requestedAt": { "type": "number" },
                          "metrics": {
                            "type": "object",
                            "properties": {
                              "did": { "type": "string" },
                              "accountCreatedAt": { "type": "number" },
                              "accountAgeDays": { "type": "number" },
                              "eprintCount": { "type": "number" },
                              "wellEndorsedEprintCount": { "type": "number" },
                              "totalEndorsements": { "type": "number" },
                              "proposalCount": { "type": "number" },
                              "voteCount": { "type": "number" },
                              "successfulProposals": { "type": "number" },
                              "warningCount": { "type": "number" },
                              "violationCount": { "type": "number" },
                              "reputationScore": { "type": "number" },
                              "role": {
                                "type": "string",
                                "enum": [
                                  "community-member",
                                  "trusted-editor",
                                  "authority-editor",
                                  "domain-expert",
                                  "administrator"
                                ]
                              },
                              "eligibleForTrustedEditor": { "type": "boolean" },
                              "missingCriteria": { "type": "array", "items": { "type": "string" } }
                            },
                            "required": [
                              "did",
                              "accountCreatedAt",
                              "accountAgeDays",
                              "eprintCount",
                              "wellEndorsedEprintCount",
                              "totalEndorsements",
                              "proposalCount",
                              "voteCount",
                              "successfulProposals",
                              "warningCount",
                              "violationCount",
                              "reputationScore",
                              "role",
                              "eligibleForTrustedEditor",
                              "missingCriteria"
                            ],
                            "additionalProperties": false
                          },
                          "verificationNotes": { "type": "string" }
                        },
                        "required": [
                          "id",
                          "did",
                          "requestedRole",
                          "currentRole",
                          "requestedAt",
                          "metrics"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "total": { "type": "number" }
                  },
                  "required": ["requests", "total"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.approveElevation": {
      "post": {
        "operationId": "pub_chive_governance_approveElevation",
        "summary": "Approve a pending elevation request (admin only)",
        "tags": ["governance"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "requestId": { "type": "string" },
                  "verificationNotes": { "type": "string" }
                },
                "required": ["requestId"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "requestId": { "type": "string" },
                    "message": { "type": "string" }
                  },
                  "required": ["success", "message"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.rejectElevation": {
      "post": {
        "operationId": "pub_chive_governance_rejectElevation",
        "summary": "Reject a pending elevation request (admin only)",
        "tags": ["governance"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "requestId": { "type": "string" },
                  "reason": { "type": "string", "minLength": 10, "maxLength": 1000 }
                },
                "required": ["requestId", "reason"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "requestId": { "type": "string" },
                    "message": { "type": "string" }
                  },
                  "required": ["success", "message"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.governance.listDelegations": {
      "get": {
        "operationId": "pub_chive_governance_listDelegations",
        "summary": "List active PDS delegations (admin only)",
        "tags": ["governance"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          {
            "name": "role",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by role",
              "type": "string",
              "enum": [
                "community-member",
                "trusted-editor",
                "authority-editor",
                "domain-expert",
                "administrator"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "delegations": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "delegateDid": { "type": "string" },
                          "handle": { "type": "string" },
                          "displayName": { "type": "string" },
                          "collections": { "type": "array", "items": { "type": "string" } },
                          "expiresAt": { "type": "number" },
                          "maxRecordsPerDay": { "type": "number" },
                          "recordsCreatedToday": { "type": "number" },
                          "grantedAt": { "type": "number" },
                          "grantedBy": { "type": "string" },
                          "active": { "type": "boolean" }
                        },
                        "required": [
                          "id",
                          "delegateDid",
                          "collections",
                          "expiresAt",
                          "maxRecordsPerDay",
                          "recordsCreatedToday",
                          "grantedAt",
                          "grantedBy",
                          "active"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "total": { "type": "number" }
                  },
                  "required": ["delegations", "total"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.graph.getField": {
      "get": {
        "operationId": "pub_chive_graph_getField",
        "summary": "Get a knowledge graph field by ID",
        "tags": ["graph"],
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "required": true,
            "schema": { "description": "Field identifier", "type": "string" }
          },
          {
            "name": "includeRelationships",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Include related fields",
              "default": false,
              "type": "boolean"
            }
          },
          {
            "name": "includeChildren",
            "in": "query",
            "required": true,
            "schema": { "description": "Include child fields", "default": false, "type": "boolean" }
          },
          {
            "name": "includeAncestors",
            "in": "query",
            "required": true,
            "schema": { "description": "Include ancestor path", "default": true, "type": "boolean" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": { "description": "Field identifier", "type": "string" },
                    "uri": { "description": "Field URI", "type": "string" },
                    "name": { "description": "Field name", "type": "string" },
                    "description": { "description": "Field description", "type": "string" },
                    "parentId": { "description": "Parent field ID", "type": "string" },
                    "status": {
                      "description": "Field status",
                      "type": "string",
                      "enum": ["proposed", "under_review", "approved", "deprecated"]
                    },
                    "eprintCount": {
                      "description": "Number of eprints",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "childCount": {
                      "description": "Number of child fields",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "externalIds": {
                      "description": "External identifiers",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "source": {
                            "description": "Source system",
                            "type": "string",
                            "enum": ["wikidata", "lcsh", "fast", "mesh", "arxiv"]
                          },
                          "id": { "description": "External identifier", "type": "string" },
                          "url": {
                            "description": "External URL",
                            "type": "string",
                            "format": "uri"
                          }
                        },
                        "required": ["source", "id"],
                        "additionalProperties": false
                      }
                    },
                    "createdAt": {
                      "description": "Creation timestamp",
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "updatedAt": {
                      "description": "Last update",
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "relationships": {
                      "description": "Related fields",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "description": "Relationship type",
                            "type": "string",
                            "enum": [
                              "broader",
                              "narrower",
                              "related",
                              "equivalent",
                              "influences",
                              "influenced_by"
                            ]
                          },
                          "targetId": { "description": "Target field ID", "type": "string" },
                          "targetName": { "description": "Target field name", "type": "string" },
                          "strength": {
                            "description": "Relationship strength",
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                          }
                        },
                        "required": ["type", "targetId", "targetName"],
                        "additionalProperties": false
                      }
                    },
                    "children": {
                      "description": "Child fields",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string" },
                          "name": { "type": "string" },
                          "eprintCount": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          }
                        },
                        "required": ["id", "name"],
                        "additionalProperties": false
                      }
                    },
                    "ancestors": {
                      "description": "Ancestor path",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": { "id": { "type": "string" }, "name": { "type": "string" } },
                        "required": ["id", "name"],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["id", "uri", "name", "status", "createdAt"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.graph.listFields": {
      "get": {
        "operationId": "pub_chive_graph_listFields",
        "summary": "List knowledge graph fields",
        "tags": ["graph"],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by status",
              "type": "string",
              "enum": ["proposed", "under_review", "approved", "deprecated"]
            }
          },
          {
            "name": "parentId",
            "in": "query",
            "required": false,
            "schema": { "description": "Filter by parent field ID", "type": "string" }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum results",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Pagination cursor", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "fields": {
                      "description": "Field list",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "description": "Field identifier", "type": "string" },
                          "uri": { "description": "Field URI", "type": "string" },
                          "name": { "description": "Field name", "type": "string" },
                          "description": { "description": "Field description", "type": "string" },
                          "parentId": { "description": "Parent field ID", "type": "string" },
                          "status": {
                            "description": "Field status",
                            "type": "string",
                            "enum": ["proposed", "under_review", "approved", "deprecated"]
                          },
                          "eprintCount": {
                            "description": "Number of eprints",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "childCount": {
                            "description": "Number of child fields",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "externalIds": {
                            "description": "External identifiers",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "source": {
                                  "description": "Source system",
                                  "type": "string",
                                  "enum": ["wikidata", "lcsh", "fast", "mesh", "arxiv"]
                                },
                                "id": { "description": "External identifier", "type": "string" },
                                "url": {
                                  "description": "External URL",
                                  "type": "string",
                                  "format": "uri"
                                }
                              },
                              "required": ["source", "id"],
                              "additionalProperties": false
                            }
                          },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "updatedAt": {
                            "description": "Last update",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": ["id", "uri", "name", "status", "createdAt"],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "hasMore": { "type": "boolean" },
                    "total": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["fields", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.graph.searchAuthorities": {
      "get": {
        "operationId": "pub_chive_graph_searchAuthorities",
        "summary": "Search authority records in the knowledge graph",
        "tags": ["graph"],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Search query",
              "type": "string",
              "minLength": 1,
              "maxLength": 500
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum results",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Pagination cursor", "type": "string" }
          },
          {
            "name": "sort",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Sort order",
              "default": "relevance",
              "type": "string",
              "enum": ["relevance", "date", "views"]
            }
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by type",
              "type": "string",
              "enum": ["person", "organization", "concept", "place"]
            }
          },
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by status",
              "type": "string",
              "enum": ["proposed", "under_review", "approved", "deprecated"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "authorities": {
                      "description": "Search results",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "description": "Authority record ID", "type": "string" },
                          "uri": { "description": "Authority record URI", "type": "string" },
                          "name": { "description": "Canonical name", "type": "string" },
                          "type": {
                            "description": "Entity type",
                            "type": "string",
                            "enum": ["person", "organization", "concept", "place"]
                          },
                          "alternateNames": {
                            "description": "Alternate names",
                            "type": "array",
                            "items": { "type": "string" }
                          },
                          "description": { "description": "Description", "type": "string" },
                          "externalIds": {
                            "description": "External identifiers",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "source": {
                                  "description": "Source system",
                                  "type": "string",
                                  "enum": ["wikidata", "lcsh", "fast", "mesh", "arxiv"]
                                },
                                "id": { "description": "External identifier", "type": "string" },
                                "url": {
                                  "description": "External URL",
                                  "type": "string",
                                  "format": "uri"
                                }
                              },
                              "required": ["source", "id"],
                              "additionalProperties": false
                            }
                          },
                          "linkedEprints": {
                            "description": "Number of linked eprints",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "status": {
                            "description": "Field status",
                            "type": "string",
                            "enum": ["proposed", "under_review", "approved", "deprecated"]
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "updatedAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": ["id", "uri", "name", "type", "status", "createdAt"],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "hasMore": { "type": "boolean" },
                    "total": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["authorities", "hasMore", "total"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.graph.searchFacets": {
      "get": {
        "operationId": "pub_chive_graph_searchFacets",
        "summary": "Search facet values in the knowledge graph",
        "tags": ["graph"],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": { "description": "Search query", "type": "string", "minLength": 2 }
          },
          {
            "name": "dimension",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by dimension",
              "type": "string",
              "enum": [
                "personality",
                "matter",
                "energy",
                "space",
                "time",
                "person",
                "organization",
                "event",
                "work",
                "form-genre"
              ]
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum results",
              "default": 20,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "facets": {
                      "description": "Search results",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "description": "Facet identifier", "type": "string" },
                          "uri": { "description": "Facet AT-URI", "type": "string" },
                          "dimension": {
                            "description": "Facet dimension",
                            "type": "string",
                            "enum": [
                              "personality",
                              "matter",
                              "energy",
                              "space",
                              "time",
                              "person",
                              "organization",
                              "event",
                              "work",
                              "form-genre"
                            ]
                          },
                          "value": { "description": "Facet value", "type": "string" },
                          "label": { "description": "Display label", "type": "string" },
                          "level": {
                            "description": "Hierarchy level",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "parentUri": { "description": "Parent facet URI", "type": "string" },
                          "authorityRecordUri": {
                            "description": "Linked authority record",
                            "type": "string"
                          },
                          "usageCount": {
                            "description": "Number of uses",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          }
                        },
                        "required": ["id", "uri", "dimension", "value", "level"],
                        "additionalProperties": false
                      }
                    },
                    "total": {
                      "description": "Total count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["facets", "total"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.graph.searchConcepts": {
      "get": {
        "operationId": "pub_chive_graph_searchConcepts",
        "summary": "Search concepts in the knowledge graph",
        "tags": ["graph"],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": { "description": "Search query", "type": "string", "minLength": 1 }
          },
          {
            "name": "category",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by category",
              "type": "string",
              "enum": [
                "institution-type",
                "paper-type",
                "methodology",
                "geographic-scope",
                "temporal-scope",
                "document-format",
                "publication-status",
                "access-type",
                "platform-code",
                "platform-data",
                "platform-preprint",
                "platform-preregistration",
                "platform-protocol",
                "supplementary-type",
                "researcher-type",
                "identifier-type",
                "presentation-type"
              ]
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum results",
              "default": 20,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "concepts": {
                      "description": "Search results",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "description": "Concept UUID identifier (rkey in AT-URI)",
                            "type": "string",
                            "format": "uuid",
                            "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                          },
                          "slug": {
                            "description": "Human-readable slug for lookups",
                            "type": "string"
                          },
                          "uri": { "description": "Concept AT-URI", "type": "string" },
                          "name": { "description": "Concept name", "type": "string" },
                          "description": { "description": "Concept description", "type": "string" },
                          "category": {
                            "description": "Concept category",
                            "type": "string",
                            "enum": [
                              "institution-type",
                              "paper-type",
                              "methodology",
                              "geographic-scope",
                              "temporal-scope",
                              "document-format",
                              "publication-status",
                              "access-type",
                              "platform-code",
                              "platform-data",
                              "platform-preprint",
                              "platform-preregistration",
                              "platform-protocol",
                              "supplementary-type",
                              "researcher-type",
                              "identifier-type",
                              "presentation-type"
                            ]
                          },
                          "status": {
                            "description": "Concept status",
                            "type": "string",
                            "enum": ["proposed", "provisional", "established", "deprecated"]
                          },
                          "wikidataId": { "description": "Wikidata identifier", "type": "string" },
                          "lcshId": { "description": "LCSH identifier", "type": "string" },
                          "fastId": { "description": "FAST identifier", "type": "string" },
                          "parentConceptUri": {
                            "description": "Parent concept URI",
                            "type": "string"
                          }
                        },
                        "required": ["id", "slug", "uri", "name", "category", "status"],
                        "additionalProperties": false
                      }
                    },
                    "total": {
                      "description": "Total count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["concepts", "total"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.graph.getConcept": {
      "get": {
        "operationId": "pub_chive_graph_getConcept",
        "summary": "Get a concept by URI",
        "tags": ["graph"],
        "parameters": [
          {
            "name": "uri",
            "in": "query",
            "required": true,
            "schema": { "description": "Concept AT-URI", "type": "string" }
          },
          {
            "name": "includeAncestors",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Include ancestor concepts",
              "default": false,
              "type": "boolean"
            }
          },
          {
            "name": "includeChildren",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Include child concepts",
              "default": false,
              "type": "boolean"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "description": "Concept UUID identifier (rkey in AT-URI)",
                      "type": "string",
                      "format": "uuid",
                      "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                    },
                    "slug": { "description": "Human-readable slug for lookups", "type": "string" },
                    "uri": { "description": "Concept AT-URI", "type": "string" },
                    "name": { "description": "Concept name", "type": "string" },
                    "description": { "description": "Concept description", "type": "string" },
                    "category": {
                      "description": "Concept category",
                      "type": "string",
                      "enum": [
                        "institution-type",
                        "paper-type",
                        "methodology",
                        "geographic-scope",
                        "temporal-scope",
                        "document-format",
                        "publication-status",
                        "access-type",
                        "platform-code",
                        "platform-data",
                        "platform-preprint",
                        "platform-preregistration",
                        "platform-protocol",
                        "supplementary-type",
                        "researcher-type",
                        "identifier-type",
                        "presentation-type"
                      ]
                    },
                    "status": {
                      "description": "Concept status",
                      "type": "string",
                      "enum": ["proposed", "provisional", "established", "deprecated"]
                    },
                    "wikidataId": { "description": "Wikidata identifier", "type": "string" },
                    "lcshId": { "description": "LCSH identifier", "type": "string" },
                    "fastId": { "description": "FAST identifier", "type": "string" },
                    "parentConceptUri": { "description": "Parent concept URI", "type": "string" },
                    "ancestors": {
                      "description": "Ancestor path",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": { "uri": { "type": "string" }, "name": { "type": "string" } },
                        "required": ["uri", "name"],
                        "additionalProperties": false
                      }
                    },
                    "children": {
                      "description": "Child concepts",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": { "type": "string" },
                          "name": { "type": "string" },
                          "description": { "type": "string" }
                        },
                        "required": ["uri", "name"],
                        "additionalProperties": false
                      }
                    },
                    "createdAt": {
                      "description": "Creation timestamp",
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "updatedAt": {
                      "description": "Last update",
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    }
                  },
                  "required": ["id", "slug", "uri", "name", "category", "status", "createdAt"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.graph.searchInstitutions": {
      "get": {
        "operationId": "pub_chive_graph_searchInstitutions",
        "summary": "Search institutions in the knowledge graph",
        "tags": ["graph"],
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": { "description": "Search query", "type": "string", "minLength": 2 }
          },
          {
            "name": "country",
            "in": "query",
            "required": false,
            "schema": {
              "description": "ISO 3166-1 alpha-2 country code",
              "type": "string",
              "minLength": 2,
              "maxLength": 2
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum results",
              "default": 20,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "institutions": {
                      "description": "Search results",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "description": "Institution UUID identifier (rkey in AT-URI)",
                            "type": "string",
                            "format": "uuid",
                            "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                          },
                          "slug": {
                            "description": "Human-readable slug for lookups",
                            "type": "string"
                          },
                          "uri": { "description": "Institution AT-URI", "type": "string" },
                          "name": { "description": "Institution name", "type": "string" },
                          "alternateNames": {
                            "description": "Alternative names",
                            "type": "array",
                            "items": { "type": "string" }
                          },
                          "country": {
                            "description": "ISO 3166-1 alpha-2 country code",
                            "type": "string"
                          },
                          "city": { "description": "City", "type": "string" },
                          "website": {
                            "description": "Institution website",
                            "type": "string",
                            "format": "uri"
                          },
                          "status": {
                            "description": "Organization status",
                            "type": "string",
                            "enum": ["active", "inactive", "merged", "defunct"]
                          },
                          "ror": { "description": "ROR identifier", "type": "string" },
                          "isni": { "description": "ISNI identifier", "type": "string" },
                          "wikidataId": { "description": "Wikidata identifier", "type": "string" },
                          "gridId": {
                            "description": "GRID identifier (deprecated)",
                            "type": "string"
                          },
                          "fundrefId": { "description": "FundRef identifier", "type": "string" },
                          "typeUri": {
                            "description": "Institution type concept URI",
                            "type": "string"
                          }
                        },
                        "required": ["id", "uri", "name", "status"],
                        "additionalProperties": false
                      }
                    },
                    "total": {
                      "description": "Total count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["institutions", "total"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.graph.getInstitution": {
      "get": {
        "operationId": "pub_chive_graph_getInstitution",
        "summary": "Get institution details by URI",
        "tags": ["graph"],
        "parameters": [
          {
            "name": "uri",
            "in": "query",
            "required": true,
            "schema": { "description": "Institution AT-URI", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "description": "Institution UUID identifier (rkey in AT-URI)",
                      "type": "string",
                      "format": "uuid",
                      "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                    },
                    "slug": { "description": "Human-readable slug for lookups", "type": "string" },
                    "uri": { "description": "Institution AT-URI", "type": "string" },
                    "name": { "description": "Institution name", "type": "string" },
                    "alternateNames": {
                      "description": "Alternative names",
                      "type": "array",
                      "items": { "type": "string" }
                    },
                    "country": {
                      "description": "ISO 3166-1 alpha-2 country code",
                      "type": "string"
                    },
                    "city": { "description": "City", "type": "string" },
                    "website": {
                      "description": "Institution website",
                      "type": "string",
                      "format": "uri"
                    },
                    "status": {
                      "description": "Organization status",
                      "type": "string",
                      "enum": ["active", "inactive", "merged", "defunct"]
                    },
                    "ror": { "description": "ROR identifier", "type": "string" },
                    "isni": { "description": "ISNI identifier", "type": "string" },
                    "wikidataId": { "description": "Wikidata identifier", "type": "string" },
                    "gridId": { "description": "GRID identifier (deprecated)", "type": "string" },
                    "fundrefId": { "description": "FundRef identifier", "type": "string" },
                    "typeUri": { "description": "Institution type concept URI", "type": "string" },
                    "parentOrganization": {
                      "description": "Parent organization",
                      "type": "object",
                      "properties": { "uri": { "type": "string" }, "name": { "type": "string" } },
                      "required": ["uri", "name"],
                      "additionalProperties": false
                    },
                    "childOrganizations": {
                      "description": "Child organizations",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": { "uri": { "type": "string" }, "name": { "type": "string" } },
                        "required": ["uri", "name"],
                        "additionalProperties": false
                      }
                    },
                    "type": {
                      "description": "Institution type concept",
                      "type": "object",
                      "properties": { "uri": { "type": "string" }, "name": { "type": "string" } },
                      "required": ["uri", "name"],
                      "additionalProperties": false
                    },
                    "createdAt": {
                      "description": "Creation timestamp",
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "updatedAt": {
                      "description": "Last update",
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    }
                  },
                  "required": ["id", "uri", "name", "status"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.graph.browseFaceted": {
      "get": {
        "operationId": "pub_chive_graph_browseFaceted",
        "summary": "Browse eprints using PMEST faceted classification",
        "tags": ["graph"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          {
            "name": "personality",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Discipline/subject values",
              "type": "array",
              "items": { "type": "string" }
            }
          },
          {
            "name": "matter",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Material/substance values",
              "type": "array",
              "items": { "type": "string" }
            }
          },
          {
            "name": "energy",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Process/action values",
              "type": "array",
              "items": { "type": "string" }
            }
          },
          {
            "name": "space",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Location/geography values",
              "type": "array",
              "items": { "type": "string" }
            }
          },
          {
            "name": "time",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Time period/era values",
              "type": "array",
              "items": { "type": "string" }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "hits": {
                      "description": "Matching eprints",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": { "description": "AT URI", "type": "string" },
                          "cid": { "description": "CID of indexed version", "type": "string" },
                          "title": { "description": "Eprint title", "type": "string" },
                          "abstract": { "description": "Eprint abstract", "type": "string" },
                          "authors": {
                            "description": "All authors with contributions",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "did": {
                                  "description": "Author DID if they have an ATProto account",
                                  "type": "string",
                                  "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                                },
                                "name": { "description": "Author display name", "type": "string" },
                                "orcid": { "description": "ORCID identifier", "type": "string" },
                                "email": {
                                  "description": "Contact email",
                                  "type": "string",
                                  "format": "email",
                                  "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
                                },
                                "order": {
                                  "description": "Position in author list (1-indexed)",
                                  "type": "integer",
                                  "minimum": -9007199254740991,
                                  "maximum": 9007199254740991
                                },
                                "affiliations": {
                                  "description": "Author affiliations",
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "name": {
                                        "description": "Organization name",
                                        "type": "string"
                                      },
                                      "rorId": { "description": "ROR ID", "type": "string" },
                                      "department": {
                                        "description": "Department or division",
                                        "type": "string"
                                      }
                                    },
                                    "required": ["name"],
                                    "additionalProperties": false
                                  }
                                },
                                "contributions": {
                                  "description": "CRediT-based contributions",
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "typeUri": {
                                        "description": "AT-URI to contribution type",
                                        "type": "string",
                                        "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                                      },
                                      "typeId": {
                                        "description": "Contribution type ID",
                                        "type": "string"
                                      },
                                      "typeLabel": {
                                        "description": "Human-readable label",
                                        "type": "string"
                                      },
                                      "degree": {
                                        "description": "Contribution degree",
                                        "type": "string",
                                        "enum": ["lead", "equal", "supporting"]
                                      }
                                    },
                                    "required": ["typeUri", "degree"],
                                    "additionalProperties": false
                                  }
                                },
                                "isCorrespondingAuthor": {
                                  "description": "Whether this is a corresponding author",
                                  "type": "boolean"
                                },
                                "isHighlighted": {
                                  "description": "Whether author is highlighted (co-first, co-last)",
                                  "type": "boolean"
                                },
                                "handle": {
                                  "description": "Author handle if available",
                                  "type": "string"
                                },
                                "avatarUrl": {
                                  "description": "Avatar URL if available",
                                  "type": "string",
                                  "format": "uri"
                                }
                              },
                              "required": [
                                "name",
                                "order",
                                "affiliations",
                                "contributions",
                                "isCorrespondingAuthor",
                                "isHighlighted"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "submittedBy": {
                            "description": "DID of human user who submitted",
                            "type": "string",
                            "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                          },
                          "paperDid": {
                            "description": "Paper DID if paper has its own PDS",
                            "type": "string",
                            "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                          },
                          "fields": {
                            "description": "Subject fields",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": { "description": "Field ID", "type": "string" },
                                "uri": { "description": "Field URI", "type": "string" },
                                "name": { "description": "Field name", "type": "string" },
                                "parentUri": { "description": "Parent field URI", "type": "string" }
                              },
                              "required": ["uri", "name"],
                              "additionalProperties": false
                            }
                          },
                          "license": { "description": "License identifier", "type": "string" },
                          "keywords": {
                            "description": "Keywords",
                            "type": "array",
                            "items": { "type": "string" }
                          },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "indexedAt": {
                            "description": "Index timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "source": {
                            "description": "Source PDS information",
                            "type": "object",
                            "properties": {
                              "pdsEndpoint": {
                                "description": "User PDS endpoint",
                                "type": "string",
                                "format": "uri"
                              },
                              "recordUrl": {
                                "description": "Direct URL to fetch authoritative record",
                                "type": "string",
                                "format": "uri"
                              },
                              "blobUrl": {
                                "description": "Direct URL to fetch PDF blob from PDS",
                                "type": "string",
                                "format": "uri"
                              },
                              "lastVerifiedAt": {
                                "description": "Last time Chive verified with PDS",
                                "type": "string",
                                "format": "date-time",
                                "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                              },
                              "stale": {
                                "description": "True if not verified in > 7 days",
                                "type": "boolean"
                              }
                            },
                            "required": ["pdsEndpoint", "recordUrl", "stale"],
                            "additionalProperties": false
                          },
                          "score": { "description": "Relevance score", "type": "number" },
                          "highlights": {
                            "description": "Search highlights",
                            "type": "object",
                            "propertyNames": { "type": "string" },
                            "additionalProperties": {
                              "type": "array",
                              "items": { "type": "string" }
                            }
                          }
                        },
                        "required": [
                          "uri",
                          "cid",
                          "title",
                          "abstract",
                          "authors",
                          "submittedBy",
                          "license",
                          "createdAt",
                          "indexedAt",
                          "source"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "facets": {
                      "description": "Available facet refinements",
                      "type": "object",
                      "properties": {
                        "personality": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "value": { "description": "Facet value", "type": "string" },
                              "label": { "description": "Display label", "type": "string" },
                              "count": {
                                "description": "Number of eprints",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["value", "count"],
                            "additionalProperties": false
                          }
                        },
                        "matter": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "value": { "description": "Facet value", "type": "string" },
                              "label": { "description": "Display label", "type": "string" },
                              "count": {
                                "description": "Number of eprints",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["value", "count"],
                            "additionalProperties": false
                          }
                        },
                        "energy": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "value": { "description": "Facet value", "type": "string" },
                              "label": { "description": "Display label", "type": "string" },
                              "count": {
                                "description": "Number of eprints",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["value", "count"],
                            "additionalProperties": false
                          }
                        },
                        "space": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "value": { "description": "Facet value", "type": "string" },
                              "label": { "description": "Display label", "type": "string" },
                              "count": {
                                "description": "Number of eprints",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["value", "count"],
                            "additionalProperties": false
                          }
                        },
                        "time": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "value": { "description": "Facet value", "type": "string" },
                              "label": { "description": "Display label", "type": "string" },
                              "count": {
                                "description": "Number of eprints",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["value", "count"],
                            "additionalProperties": false
                          }
                        },
                        "person": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "value": { "description": "Facet value", "type": "string" },
                              "label": { "description": "Display label", "type": "string" },
                              "count": {
                                "description": "Number of eprints",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["value", "count"],
                            "additionalProperties": false
                          }
                        },
                        "organization": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "value": { "description": "Facet value", "type": "string" },
                              "label": { "description": "Display label", "type": "string" },
                              "count": {
                                "description": "Number of eprints",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["value", "count"],
                            "additionalProperties": false
                          }
                        },
                        "event": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "value": { "description": "Facet value", "type": "string" },
                              "label": { "description": "Display label", "type": "string" },
                              "count": {
                                "description": "Number of eprints",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["value", "count"],
                            "additionalProperties": false
                          }
                        },
                        "work": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "value": { "description": "Facet value", "type": "string" },
                              "label": { "description": "Display label", "type": "string" },
                              "count": {
                                "description": "Number of eprints",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["value", "count"],
                            "additionalProperties": false
                          }
                        },
                        "formGenre": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "value": { "description": "Facet value", "type": "string" },
                              "label": { "description": "Display label", "type": "string" },
                              "count": {
                                "description": "Number of eprints",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["value", "count"],
                            "additionalProperties": false
                          }
                        }
                      },
                      "additionalProperties": false
                    },
                    "cursor": { "type": "string" },
                    "hasMore": { "type": "boolean" },
                    "total": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "impressionId": {
                      "description": "Impression ID for click tracking",
                      "type": "string",
                      "format": "uuid",
                      "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                    }
                  },
                  "required": ["hits", "facets", "hasMore", "total"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.graph.getFieldEprints": {
      "get": {
        "operationId": "pub_chive_graph_getFieldEprints",
        "summary": "Get eprints in a knowledge graph field",
        "tags": ["graph"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          {
            "name": "fieldId",
            "in": "query",
            "required": true,
            "schema": { "description": "Field identifier", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "eprints": {
                      "description": "Eprints in this field",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": { "description": "Eprint AT URI", "type": "string" },
                          "title": { "description": "Eprint title", "type": "string" },
                          "abstract": {
                            "description": "Truncated abstract",
                            "type": "string",
                            "maxLength": 500
                          },
                          "authorDid": { "description": "Primary author DID", "type": "string" },
                          "authorName": { "description": "Author display name", "type": "string" },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "pdsUrl": {
                            "description": "PDS endpoint URL",
                            "type": "string",
                            "format": "uri"
                          },
                          "views": {
                            "description": "View count",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          }
                        },
                        "required": ["uri", "title", "authorDid", "createdAt", "pdsUrl"],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "description": "Pagination cursor", "type": "string" },
                    "hasMore": { "description": "Whether more results exist", "type": "boolean" },
                    "total": {
                      "description": "Total count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["eprints", "hasMore", "total"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.graph.getAuthority": {
      "get": {
        "operationId": "pub_chive_graph_getAuthority",
        "summary": "Get authority record details",
        "tags": ["graph"],
        "parameters": [
          {
            "name": "id",
            "in": "query",
            "required": true,
            "schema": { "description": "Authority record ID", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": { "description": "Authority record ID", "type": "string" },
                    "uri": { "description": "Authority record URI", "type": "string" },
                    "name": { "description": "Canonical name", "type": "string" },
                    "type": {
                      "description": "Entity type",
                      "type": "string",
                      "enum": ["person", "organization", "concept", "place"]
                    },
                    "alternateNames": {
                      "description": "Alternate names",
                      "type": "array",
                      "items": { "type": "string" }
                    },
                    "description": { "description": "Description", "type": "string" },
                    "externalIds": {
                      "description": "External identifiers",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "source": {
                            "description": "Source system",
                            "type": "string",
                            "enum": ["wikidata", "lcsh", "fast", "mesh", "arxiv"]
                          },
                          "id": { "description": "External identifier", "type": "string" },
                          "url": {
                            "description": "External URL",
                            "type": "string",
                            "format": "uri"
                          }
                        },
                        "required": ["source", "id"],
                        "additionalProperties": false
                      }
                    },
                    "linkedEprints": {
                      "description": "Number of linked eprints",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "status": {
                      "description": "Field status",
                      "type": "string",
                      "enum": ["proposed", "under_review", "approved", "deprecated"]
                    },
                    "createdAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "updatedAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "linkedAuthors": {
                      "description": "Number of linked authors",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "reconciliationCount": {
                      "description": "Number of reconciliations",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["id", "uri", "name", "type", "status", "createdAt"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.graph.getAuthorityReconciliations": {
      "get": {
        "operationId": "pub_chive_graph_getAuthorityReconciliations",
        "summary": "Get reconciliation records for an authority",
        "tags": ["graph"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          {
            "name": "authorityId",
            "in": "query",
            "required": true,
            "schema": { "description": "Authority record ID", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reconciliations": {
                      "description": "Reconciliation records",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "description": "Reconciliation ID", "type": "string" },
                          "authorityId": { "description": "Authority record ID", "type": "string" },
                          "externalSource": {
                            "description": "External source (e.g., arxiv, orcid)",
                            "type": "string"
                          },
                          "externalId": { "description": "External identifier", "type": "string" },
                          "externalUrl": {
                            "description": "External URL",
                            "type": "string",
                            "format": "uri"
                          },
                          "status": {
                            "description": "Reconciliation status",
                            "type": "string",
                            "enum": ["pending", "approved", "rejected"]
                          },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "approvedAt": {
                            "description": "Approval timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "approvedBy": { "description": "Approver DID", "type": "string" }
                        },
                        "required": [
                          "id",
                          "authorityId",
                          "externalSource",
                          "externalId",
                          "status",
                          "createdAt"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "description": "Pagination cursor", "type": "string" },
                    "hasMore": { "description": "Whether more results exist", "type": "boolean" },
                    "total": {
                      "description": "Total count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["reconciliations", "hasMore", "total"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.graph.getCommunities": {
      "get": {
        "operationId": "pub_chive_graph_getCommunities",
        "summary": "Detect communities in the knowledge graph",
        "tags": ["graph"],
        "parameters": [
          {
            "name": "algorithm",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Detection algorithm",
              "default": "louvain",
              "type": "string",
              "enum": ["louvain", "label-propagation"]
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum communities",
              "default": 20,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "minSize",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Minimum community size",
              "default": 2,
              "type": "integer",
              "minimum": 1,
              "maximum": 9007199254740991
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "communities": {
                      "description": "Detected communities",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "communityId": {
                            "description": "Community identifier",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "members": {
                            "description": "Member URIs",
                            "type": "array",
                            "items": { "type": "string" }
                          },
                          "size": {
                            "description": "Number of members",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "representativeMembers": {
                            "description": "Representative members with names",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "uri": { "type": "string" },
                                "name": { "type": "string" }
                              },
                              "required": ["uri", "name"],
                              "additionalProperties": false
                            }
                          }
                        },
                        "required": ["communityId", "members", "size"],
                        "additionalProperties": false
                      }
                    },
                    "algorithm": {
                      "description": "Algorithm used",
                      "type": "string",
                      "enum": ["louvain", "label-propagation"]
                    },
                    "total": {
                      "description": "Total communities found",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "generatedAt": {
                      "description": "Timestamp when generated",
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    }
                  },
                  "required": ["communities", "algorithm", "total", "generatedAt"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.import.search": {
      "get": {
        "operationId": "pub_chive_import_search",
        "summary": "Search imported eprints",
        "tags": ["import"],
        "parameters": [
          { "name": "query", "in": "query", "required": false, "schema": { "type": "string" } },
          {
            "name": "source",
            "in": "query",
            "required": false,
            "schema": {
              "description": "External source identifier (e.g., arxiv, semanticscholar)",
              "type": "string",
              "minLength": 2,
              "maxLength": 50,
              "pattern": "^[a-z0-9]+$"
            }
          },
          {
            "name": "claimStatus",
            "in": "query",
            "required": false,
            "schema": { "type": "string", "enum": ["unclaimed", "pending", "claimed"] }
          },
          {
            "name": "authorName",
            "in": "query",
            "required": false,
            "schema": { "type": "string" }
          },
          {
            "name": "authorOrcid",
            "in": "query",
            "required": false,
            "schema": { "type": "string" }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "type": "integer", "minimum": 1, "maximum": 100 }
          },
          { "name": "cursor", "in": "query", "required": false, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "eprints": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "source": {
                            "description": "External source identifier (e.g., arxiv, semanticscholar)",
                            "type": "string",
                            "minLength": 2,
                            "maxLength": 50,
                            "pattern": "^[a-z0-9]+$"
                          },
                          "externalId": { "type": "string" },
                          "url": { "type": "string", "format": "uri" },
                          "title": { "type": "string" },
                          "abstract": { "type": "string" },
                          "authors": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "name": { "type": "string" },
                                "orcid": { "type": "string" },
                                "affiliation": { "type": "string" },
                                "email": {
                                  "type": "string",
                                  "format": "email",
                                  "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
                                }
                              },
                              "required": ["name"],
                              "additionalProperties": false
                            }
                          },
                          "publicationDate": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "categories": { "type": "array", "items": { "type": "string" } },
                          "doi": { "type": "string" },
                          "pdfUrl": { "type": "string", "format": "uri" },
                          "importedByPlugin": { "type": "string" },
                          "importedAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "lastSyncedAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "syncStatus": {
                            "type": "string",
                            "enum": ["active", "stale", "unavailable"]
                          },
                          "claimStatus": {
                            "type": "string",
                            "enum": ["unclaimed", "pending", "claimed"]
                          },
                          "canonicalUri": { "type": "string" },
                          "claimedByDid": { "type": "string" },
                          "claimedAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": [
                          "id",
                          "source",
                          "externalId",
                          "url",
                          "title",
                          "authors",
                          "importedByPlugin",
                          "importedAt",
                          "syncStatus",
                          "claimStatus"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "type": "string" },
                    "hasMore": { "type": "boolean" }
                  },
                  "required": ["eprints", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.import.get": {
      "get": {
        "operationId": "pub_chive_import_get",
        "summary": "Get an imported eprint by source and external ID",
        "tags": ["import"],
        "parameters": [
          {
            "name": "source",
            "in": "query",
            "required": true,
            "schema": {
              "description": "External source identifier (e.g., arxiv, semanticscholar)",
              "type": "string",
              "minLength": 2,
              "maxLength": 50,
              "pattern": "^[a-z0-9]+$"
            }
          },
          { "name": "externalId", "in": "query", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "source": {
                      "description": "External source identifier (e.g., arxiv, semanticscholar)",
                      "type": "string",
                      "minLength": 2,
                      "maxLength": 50,
                      "pattern": "^[a-z0-9]+$"
                    },
                    "externalId": { "type": "string" },
                    "url": { "type": "string", "format": "uri" },
                    "title": { "type": "string" },
                    "abstract": { "type": "string" },
                    "authors": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": { "type": "string" },
                          "orcid": { "type": "string" },
                          "affiliation": { "type": "string" },
                          "email": {
                            "type": "string",
                            "format": "email",
                            "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
                          }
                        },
                        "required": ["name"],
                        "additionalProperties": false
                      }
                    },
                    "publicationDate": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "categories": { "type": "array", "items": { "type": "string" } },
                    "doi": { "type": "string" },
                    "pdfUrl": { "type": "string", "format": "uri" },
                    "importedByPlugin": { "type": "string" },
                    "importedAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "lastSyncedAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "syncStatus": { "type": "string", "enum": ["active", "stale", "unavailable"] },
                    "claimStatus": {
                      "type": "string",
                      "enum": ["unclaimed", "pending", "claimed"]
                    },
                    "canonicalUri": { "type": "string" },
                    "claimedByDid": { "type": "string" },
                    "claimedAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    }
                  },
                  "required": [
                    "id",
                    "source",
                    "externalId",
                    "url",
                    "title",
                    "authors",
                    "importedByPlugin",
                    "importedAt",
                    "syncStatus",
                    "claimStatus"
                  ],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.import.exists": {
      "get": {
        "operationId": "pub_chive_import_exists",
        "summary": "Check if an eprint has been imported",
        "tags": ["import"],
        "parameters": [
          {
            "name": "source",
            "in": "query",
            "required": true,
            "schema": {
              "description": "External source identifier (e.g., arxiv, semanticscholar)",
              "type": "string",
              "minLength": 2,
              "maxLength": 50,
              "pattern": "^[a-z0-9]+$"
            }
          },
          { "name": "externalId", "in": "query", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "exists": { "type": "boolean" } },
                  "required": ["exists"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.metrics.getTrending": {
      "get": {
        "operationId": "pub_chive_metrics_getTrending",
        "summary": "Get trending eprints by view count in time window",
        "tags": ["metrics"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          {
            "name": "window",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Time window for trending calculation",
              "default": "7d",
              "type": "string",
              "enum": ["24h", "7d", "30d"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "trending": {
                      "description": "Trending eprints",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": {
                            "description": "AT Protocol URI (at://did/collection/rkey)",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "cid": {
                            "description": "Content Identifier",
                            "type": "string",
                            "pattern": "^[a-zA-Z0-9]+$"
                          },
                          "title": { "description": "Eprint title", "type": "string" },
                          "abstract": {
                            "description": "Truncated abstract",
                            "type": "string",
                            "maxLength": 500
                          },
                          "authors": {
                            "description": "All authors with contributions",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "did": {
                                  "description": "Author DID if they have an ATProto account",
                                  "type": "string",
                                  "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                                },
                                "name": { "description": "Author display name", "type": "string" },
                                "orcid": { "description": "ORCID identifier", "type": "string" },
                                "email": {
                                  "description": "Contact email",
                                  "type": "string",
                                  "format": "email",
                                  "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
                                },
                                "order": {
                                  "description": "Position in author list (1-indexed)",
                                  "type": "integer",
                                  "minimum": -9007199254740991,
                                  "maximum": 9007199254740991
                                },
                                "affiliations": {
                                  "description": "Author affiliations",
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "name": {
                                        "description": "Organization name",
                                        "type": "string"
                                      },
                                      "rorId": { "description": "ROR ID", "type": "string" },
                                      "department": {
                                        "description": "Department or division",
                                        "type": "string"
                                      }
                                    },
                                    "required": ["name"],
                                    "additionalProperties": false
                                  }
                                },
                                "contributions": {
                                  "description": "CRediT-based contributions",
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "typeUri": {
                                        "description": "AT-URI to contribution type",
                                        "type": "string",
                                        "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                                      },
                                      "typeId": {
                                        "description": "Contribution type ID",
                                        "type": "string"
                                      },
                                      "typeLabel": {
                                        "description": "Human-readable label",
                                        "type": "string"
                                      },
                                      "degree": {
                                        "description": "Contribution degree",
                                        "type": "string",
                                        "enum": ["lead", "equal", "supporting"]
                                      }
                                    },
                                    "required": ["typeUri", "degree"],
                                    "additionalProperties": false
                                  }
                                },
                                "isCorrespondingAuthor": {
                                  "description": "Whether this is a corresponding author",
                                  "type": "boolean"
                                },
                                "isHighlighted": {
                                  "description": "Whether author is highlighted (co-first, co-last)",
                                  "type": "boolean"
                                },
                                "handle": {
                                  "description": "Author handle if available",
                                  "type": "string"
                                },
                                "avatarUrl": {
                                  "description": "Avatar URL if available",
                                  "type": "string",
                                  "format": "uri"
                                }
                              },
                              "required": [
                                "name",
                                "order",
                                "affiliations",
                                "contributions",
                                "isCorrespondingAuthor",
                                "isHighlighted"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "submittedBy": {
                            "description": "DID of human user who submitted",
                            "type": "string",
                            "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                          },
                          "paperDid": {
                            "description": "Paper DID if paper has its own PDS",
                            "type": "string",
                            "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                          },
                          "fields": {
                            "description": "Subject fields",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": { "description": "Field ID", "type": "string" },
                                "uri": { "description": "Field URI", "type": "string" },
                                "name": { "description": "Field name", "type": "string" },
                                "parentUri": { "description": "Parent field URI", "type": "string" }
                              },
                              "required": ["uri", "name"],
                              "additionalProperties": false
                            }
                          },
                          "license": { "description": "License identifier", "type": "string" },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "indexedAt": {
                            "description": "Index timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "source": {
                            "description": "PDS source information",
                            "type": "object",
                            "properties": {
                              "pdsEndpoint": {
                                "description": "User PDS endpoint",
                                "type": "string",
                                "format": "uri"
                              },
                              "recordUrl": {
                                "description": "Direct URL to fetch authoritative record",
                                "type": "string",
                                "format": "uri"
                              },
                              "blobUrl": {
                                "description": "Direct URL to fetch PDF blob from PDS",
                                "type": "string",
                                "format": "uri"
                              },
                              "lastVerifiedAt": {
                                "description": "Last time Chive verified with PDS",
                                "type": "string",
                                "format": "date-time",
                                "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                              },
                              "stale": {
                                "description": "True if not verified in > 7 days",
                                "type": "boolean"
                              }
                            },
                            "required": ["pdsEndpoint", "recordUrl", "stale"],
                            "additionalProperties": false
                          },
                          "metrics": {
                            "description": "Engagement metrics",
                            "type": "object",
                            "properties": {
                              "views": {
                                "description": "Total view count",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              },
                              "downloads": {
                                "description": "Total download count",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              },
                              "endorsements": {
                                "description": "Endorsement count",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["views", "downloads"],
                            "additionalProperties": false
                          },
                          "viewsInWindow": {
                            "description": "Views in the selected window",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "rank": {
                            "description": "Trending rank",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "velocity": {
                            "description": "Velocity indicator: >0 accelerating, <0 decelerating (compared to baseline)",
                            "type": "number"
                          }
                        },
                        "required": [
                          "uri",
                          "cid",
                          "title",
                          "abstract",
                          "authors",
                          "submittedBy",
                          "license",
                          "createdAt",
                          "indexedAt",
                          "source",
                          "viewsInWindow",
                          "rank"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "window": { "default": "7d", "type": "string", "enum": ["24h", "7d", "30d"] },
                    "cursor": { "type": "string" },
                    "hasMore": { "type": "boolean" }
                  },
                  "required": ["trending", "window", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.metrics.recordView": {
      "post": {
        "operationId": "pub_chive_metrics_recordView",
        "summary": "Record a view event for an eprint",
        "tags": ["metrics"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": { "uri": { "type": "string" }, "viewerDid": { "type": "string" } },
                "required": ["uri"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "success": { "type": "boolean" } },
                  "required": ["success"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.metrics.recordDownload": {
      "post": {
        "operationId": "pub_chive_metrics_recordDownload",
        "summary": "Record a download event for an eprint",
        "tags": ["metrics"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": { "uri": { "type": "string" }, "viewerDid": { "type": "string" } },
                "required": ["uri"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "success": { "type": "boolean" } },
                  "required": ["success"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.metrics.getMetrics": {
      "get": {
        "operationId": "pub_chive_metrics_getMetrics",
        "summary": "Get comprehensive metrics for an eprint",
        "tags": ["metrics"],
        "parameters": [
          { "name": "uri", "in": "query", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "totalViews": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "uniqueViews": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "totalDownloads": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "views24h": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "views7d": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "views30d": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": [
                    "totalViews",
                    "uniqueViews",
                    "totalDownloads",
                    "views24h",
                    "views7d",
                    "views30d"
                  ],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.metrics.getViewCount": {
      "get": {
        "operationId": "pub_chive_metrics_getViewCount",
        "summary": "Get view count for an eprint",
        "tags": ["metrics"],
        "parameters": [
          { "name": "uri", "in": "query", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "count": {
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["count"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.metrics.recordSearchClick": {
      "post": {
        "operationId": "pub_chive_metrics_recordSearchClick",
        "summary": "Record a click on a search result for LTR training",
        "tags": ["metrics"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "impressionId": {
                    "type": "string",
                    "format": "uuid",
                    "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                  },
                  "uri": { "type": "string" },
                  "position": { "type": "integer", "minimum": 0, "maximum": 9007199254740991 }
                },
                "required": ["impressionId", "uri", "position"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "success": { "type": "boolean" } },
                  "required": ["success"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.metrics.recordDwellTime": {
      "post": {
        "operationId": "pub_chive_metrics_recordDwellTime",
        "summary": "Record dwell time for a clicked search result",
        "tags": ["metrics"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "impressionId": {
                    "type": "string",
                    "format": "uuid",
                    "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                  },
                  "uri": { "type": "string" },
                  "dwellTimeMs": { "type": "integer", "minimum": 0, "maximum": 9007199254740991 }
                },
                "required": ["impressionId", "uri", "dwellTimeMs"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "success": { "type": "boolean" } },
                  "required": ["success"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.metrics.recordSearchDownload": {
      "post": {
        "operationId": "pub_chive_metrics_recordSearchDownload",
        "summary": "Record a download from a search result (strong relevance signal)",
        "tags": ["metrics"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "impressionId": {
                    "type": "string",
                    "format": "uuid",
                    "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                  },
                  "uri": { "type": "string" }
                },
                "required": ["impressionId", "uri"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "success": { "type": "boolean" } },
                  "required": ["success"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.notification.listReviewsOnMyPapers": {
      "get": {
        "operationId": "pub_chive_notification_listReviewsOnMyPapers",
        "summary": "List reviews on papers where authenticated user is an author",
        "tags": ["notification"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "notifications": {
                      "description": "List of review notifications",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": {
                            "description": "Review AT-URI",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "reviewerDid": {
                            "description": "Reviewer DID",
                            "type": "string",
                            "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                          },
                          "reviewerHandle": { "description": "Reviewer handle", "type": "string" },
                          "reviewerDisplayName": {
                            "description": "Reviewer display name",
                            "type": "string"
                          },
                          "eprintUri": {
                            "description": "Eprint AT-URI",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "eprintTitle": { "description": "Eprint title", "type": "string" },
                          "text": { "description": "Review text content", "type": "string" },
                          "isReply": {
                            "description": "Whether this is a reply",
                            "type": "boolean"
                          },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": [
                          "uri",
                          "reviewerDid",
                          "eprintUri",
                          "eprintTitle",
                          "text",
                          "isReply",
                          "createdAt"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "description": "Cursor for next page", "type": "string" },
                    "hasMore": { "description": "Whether more results exist", "type": "boolean" },
                    "total": {
                      "description": "Total count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["notifications", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.notification.listEndorsementsOnMyPapers": {
      "get": {
        "operationId": "pub_chive_notification_listEndorsementsOnMyPapers",
        "summary": "List endorsements on papers where authenticated user is an author",
        "tags": ["notification"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "notifications": {
                      "description": "List of endorsement notifications",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": {
                            "description": "Endorsement AT-URI",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "endorserDid": {
                            "description": "Endorser DID",
                            "type": "string",
                            "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                          },
                          "endorserHandle": { "description": "Endorser handle", "type": "string" },
                          "endorserDisplayName": {
                            "description": "Endorser display name",
                            "type": "string"
                          },
                          "eprintUri": {
                            "description": "Eprint AT-URI",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "eprintTitle": { "description": "Eprint title", "type": "string" },
                          "contributions": {
                            "description": "Contribution types endorsed",
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": [
                                "methodological",
                                "analytical",
                                "theoretical",
                                "empirical",
                                "conceptual",
                                "technical",
                                "data",
                                "replication",
                                "reproducibility",
                                "synthesis",
                                "interdisciplinary",
                                "pedagogical",
                                "visualization",
                                "societal-impact",
                                "clinical"
                              ]
                            }
                          },
                          "comment": { "description": "Optional comment", "type": "string" },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": [
                          "uri",
                          "endorserDid",
                          "eprintUri",
                          "eprintTitle",
                          "contributions",
                          "createdAt"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "description": "Cursor for next page", "type": "string" },
                    "hasMore": { "description": "Whether more results exist", "type": "boolean" },
                    "total": {
                      "description": "Total count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["notifications", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.eprint.getSubmission": {
      "get": {
        "operationId": "pub_chive_eprint_getSubmission",
        "summary": "Get an eprint submission by AT URI",
        "tags": ["eprint"],
        "parameters": [
          {
            "name": "uri",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Eprint AT URI",
              "type": "string",
              "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "uri": {
                      "description": "AT Protocol URI (at://did/collection/rkey)",
                      "type": "string",
                      "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                    },
                    "cid": {
                      "description": "Content Identifier",
                      "type": "string",
                      "pattern": "^[a-zA-Z0-9]+$"
                    },
                    "title": { "description": "Eprint title", "type": "string" },
                    "abstract": { "description": "Full abstract", "type": "string" },
                    "authors": {
                      "description": "All authors with contributions",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "did": {
                            "description": "Author DID if they have an ATProto account",
                            "type": "string",
                            "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                          },
                          "name": { "description": "Author display name", "type": "string" },
                          "orcid": { "description": "ORCID identifier", "type": "string" },
                          "email": {
                            "description": "Contact email",
                            "type": "string",
                            "format": "email",
                            "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
                          },
                          "order": {
                            "description": "Position in author list (1-indexed)",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "affiliations": {
                            "description": "Author affiliations",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "name": { "description": "Organization name", "type": "string" },
                                "rorId": { "description": "ROR ID", "type": "string" },
                                "department": {
                                  "description": "Department or division",
                                  "type": "string"
                                }
                              },
                              "required": ["name"],
                              "additionalProperties": false
                            }
                          },
                          "contributions": {
                            "description": "CRediT-based contributions",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "typeUri": {
                                  "description": "AT-URI to contribution type",
                                  "type": "string",
                                  "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                                },
                                "typeId": {
                                  "description": "Contribution type ID",
                                  "type": "string"
                                },
                                "typeLabel": {
                                  "description": "Human-readable label",
                                  "type": "string"
                                },
                                "degree": {
                                  "description": "Contribution degree",
                                  "type": "string",
                                  "enum": ["lead", "equal", "supporting"]
                                }
                              },
                              "required": ["typeUri", "degree"],
                              "additionalProperties": false
                            }
                          },
                          "isCorrespondingAuthor": {
                            "description": "Whether this is a corresponding author",
                            "type": "boolean"
                          },
                          "isHighlighted": {
                            "description": "Whether author is highlighted (co-first, co-last)",
                            "type": "boolean"
                          },
                          "handle": {
                            "description": "Author handle if available",
                            "type": "string"
                          },
                          "avatarUrl": {
                            "description": "Avatar URL if available",
                            "type": "string",
                            "format": "uri"
                          }
                        },
                        "required": [
                          "name",
                          "order",
                          "affiliations",
                          "contributions",
                          "isCorrespondingAuthor",
                          "isHighlighted"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "submittedBy": {
                      "description": "DID of human user who submitted",
                      "type": "string",
                      "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                    },
                    "paperDid": {
                      "description": "Paper DID if paper has its own PDS",
                      "type": "string",
                      "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                    },
                    "document": {
                      "description": "Document blob reference",
                      "type": "object",
                      "properties": {
                        "$type": { "type": "string", "const": "blob" },
                        "ref": {
                          "description": "CID of blob",
                          "type": "string",
                          "pattern": "^[a-zA-Z0-9]+$"
                        },
                        "mimeType": { "description": "MIME type", "type": "string" },
                        "size": {
                          "description": "Size in bytes",
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": ["$type", "ref", "mimeType", "size"],
                      "additionalProperties": false
                    },
                    "documentFormat": {
                      "description": "Document format (pdf, docx, etc.)",
                      "type": "string"
                    },
                    "supplementary": {
                      "description": "Supplementary materials",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "blob": {
                            "description": "Blob reference",
                            "type": "object",
                            "properties": {
                              "$type": { "type": "string", "const": "blob" },
                              "ref": {
                                "description": "CID of blob",
                                "type": "string",
                                "pattern": "^[a-zA-Z0-9]+$"
                              },
                              "mimeType": { "description": "MIME type", "type": "string" },
                              "size": {
                                "description": "Size in bytes",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["$type", "ref", "mimeType", "size"],
                            "additionalProperties": false
                          },
                          "label": { "description": "Display label", "type": "string" },
                          "description": {
                            "description": "Material description",
                            "type": "string"
                          },
                          "category": {
                            "description": "Material category",
                            "type": "string",
                            "enum": [
                              "appendix",
                              "figure",
                              "table",
                              "dataset",
                              "code",
                              "notebook",
                              "video",
                              "audio",
                              "presentation",
                              "protocol",
                              "questionnaire",
                              "other"
                            ]
                          },
                          "detectedFormat": {
                            "description": "Auto-detected format",
                            "type": "string"
                          },
                          "order": {
                            "description": "Display order",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          }
                        },
                        "required": ["blob", "label", "category", "order"],
                        "additionalProperties": false
                      }
                    },
                    "fields": {
                      "description": "Subject fields",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "description": "Field ID", "type": "string" },
                          "uri": { "description": "Field URI", "type": "string" },
                          "name": { "description": "Field name", "type": "string" },
                          "parentUri": { "description": "Parent field URI", "type": "string" }
                        },
                        "required": ["uri", "name"],
                        "additionalProperties": false
                      }
                    },
                    "keywords": {
                      "description": "Keywords",
                      "type": "array",
                      "items": { "type": "string" }
                    },
                    "license": { "description": "License identifier", "type": "string" },
                    "doi": { "description": "DOI if assigned", "type": "string" },
                    "createdAt": {
                      "description": "Creation timestamp",
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "updatedAt": {
                      "description": "Last update timestamp",
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "indexedAt": {
                      "description": "Index timestamp",
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "source": {
                      "description": "PDS source information",
                      "type": "object",
                      "properties": {
                        "pdsEndpoint": {
                          "description": "User PDS endpoint",
                          "type": "string",
                          "format": "uri"
                        },
                        "recordUrl": {
                          "description": "Direct URL to fetch authoritative record",
                          "type": "string",
                          "format": "uri"
                        },
                        "blobUrl": {
                          "description": "Direct URL to fetch PDF blob from PDS",
                          "type": "string",
                          "format": "uri"
                        },
                        "lastVerifiedAt": {
                          "description": "Last time Chive verified with PDS",
                          "type": "string",
                          "format": "date-time",
                          "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                        },
                        "stale": {
                          "description": "True if not verified in > 7 days",
                          "type": "boolean"
                        }
                      },
                      "required": ["pdsEndpoint", "recordUrl", "stale"],
                      "additionalProperties": false
                    },
                    "metrics": {
                      "description": "Engagement metrics",
                      "type": "object",
                      "properties": {
                        "views": {
                          "description": "Total view count",
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "downloads": {
                          "description": "Total download count",
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "endorsements": {
                          "description": "Endorsement count",
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        }
                      },
                      "required": ["views", "downloads"],
                      "additionalProperties": false
                    },
                    "versions": {
                      "description": "Version history",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "version": {
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "cid": {
                            "description": "Content Identifier",
                            "type": "string",
                            "pattern": "^[a-zA-Z0-9]+$"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "changelog": { "type": "string" }
                        },
                        "required": ["version", "cid", "createdAt"],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": [
                    "uri",
                    "cid",
                    "title",
                    "abstract",
                    "authors",
                    "submittedBy",
                    "document",
                    "license",
                    "createdAt",
                    "indexedAt",
                    "source"
                  ],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.eprint.searchSubmissions": {
      "get": {
        "operationId": "pub_chive_eprint_searchSubmissions",
        "summary": "Search eprint submissions with full-text and faceted filtering",
        "tags": ["eprint"],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Search query",
              "type": "string",
              "minLength": 1,
              "maxLength": 500
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum results",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Pagination cursor", "type": "string" }
          },
          {
            "name": "sort",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Sort order",
              "default": "relevance",
              "type": "string",
              "enum": ["relevance", "date", "views"]
            }
          },
          {
            "name": "field",
            "in": "query",
            "required": false,
            "schema": { "description": "Filter by field URI", "type": "string" }
          },
          {
            "name": "author",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by author DID",
              "type": "string",
              "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
            }
          },
          {
            "name": "license",
            "in": "query",
            "required": false,
            "schema": { "description": "Filter by license", "type": "string" }
          },
          {
            "name": "dateFrom",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by date range start",
              "type": "string",
              "format": "date-time",
              "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
            }
          },
          {
            "name": "dateTo",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by date range end",
              "type": "string",
              "format": "date-time",
              "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "hits": {
                      "description": "Search results",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": {
                            "description": "AT Protocol URI (at://did/collection/rkey)",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "cid": {
                            "description": "Content Identifier",
                            "type": "string",
                            "pattern": "^[a-zA-Z0-9]+$"
                          },
                          "title": { "description": "Eprint title", "type": "string" },
                          "abstract": {
                            "description": "Truncated abstract",
                            "type": "string",
                            "maxLength": 500
                          },
                          "authors": {
                            "description": "All authors with contributions",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "did": {
                                  "description": "Author DID if they have an ATProto account",
                                  "type": "string",
                                  "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                                },
                                "name": { "description": "Author display name", "type": "string" },
                                "orcid": { "description": "ORCID identifier", "type": "string" },
                                "email": {
                                  "description": "Contact email",
                                  "type": "string",
                                  "format": "email",
                                  "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
                                },
                                "order": {
                                  "description": "Position in author list (1-indexed)",
                                  "type": "integer",
                                  "minimum": -9007199254740991,
                                  "maximum": 9007199254740991
                                },
                                "affiliations": {
                                  "description": "Author affiliations",
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "name": {
                                        "description": "Organization name",
                                        "type": "string"
                                      },
                                      "rorId": { "description": "ROR ID", "type": "string" },
                                      "department": {
                                        "description": "Department or division",
                                        "type": "string"
                                      }
                                    },
                                    "required": ["name"],
                                    "additionalProperties": false
                                  }
                                },
                                "contributions": {
                                  "description": "CRediT-based contributions",
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "typeUri": {
                                        "description": "AT-URI to contribution type",
                                        "type": "string",
                                        "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                                      },
                                      "typeId": {
                                        "description": "Contribution type ID",
                                        "type": "string"
                                      },
                                      "typeLabel": {
                                        "description": "Human-readable label",
                                        "type": "string"
                                      },
                                      "degree": {
                                        "description": "Contribution degree",
                                        "type": "string",
                                        "enum": ["lead", "equal", "supporting"]
                                      }
                                    },
                                    "required": ["typeUri", "degree"],
                                    "additionalProperties": false
                                  }
                                },
                                "isCorrespondingAuthor": {
                                  "description": "Whether this is a corresponding author",
                                  "type": "boolean"
                                },
                                "isHighlighted": {
                                  "description": "Whether author is highlighted (co-first, co-last)",
                                  "type": "boolean"
                                },
                                "handle": {
                                  "description": "Author handle if available",
                                  "type": "string"
                                },
                                "avatarUrl": {
                                  "description": "Avatar URL if available",
                                  "type": "string",
                                  "format": "uri"
                                }
                              },
                              "required": [
                                "name",
                                "order",
                                "affiliations",
                                "contributions",
                                "isCorrespondingAuthor",
                                "isHighlighted"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "submittedBy": {
                            "description": "DID of human user who submitted",
                            "type": "string",
                            "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                          },
                          "paperDid": {
                            "description": "Paper DID if paper has its own PDS",
                            "type": "string",
                            "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                          },
                          "fields": {
                            "description": "Subject fields",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": { "description": "Field ID", "type": "string" },
                                "uri": { "description": "Field URI", "type": "string" },
                                "name": { "description": "Field name", "type": "string" },
                                "parentUri": { "description": "Parent field URI", "type": "string" }
                              },
                              "required": ["uri", "name"],
                              "additionalProperties": false
                            }
                          },
                          "license": { "description": "License identifier", "type": "string" },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "indexedAt": {
                            "description": "Index timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "source": {
                            "description": "PDS source information",
                            "type": "object",
                            "properties": {
                              "pdsEndpoint": {
                                "description": "User PDS endpoint",
                                "type": "string",
                                "format": "uri"
                              },
                              "recordUrl": {
                                "description": "Direct URL to fetch authoritative record",
                                "type": "string",
                                "format": "uri"
                              },
                              "blobUrl": {
                                "description": "Direct URL to fetch PDF blob from PDS",
                                "type": "string",
                                "format": "uri"
                              },
                              "lastVerifiedAt": {
                                "description": "Last time Chive verified with PDS",
                                "type": "string",
                                "format": "date-time",
                                "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                              },
                              "stale": {
                                "description": "True if not verified in > 7 days",
                                "type": "boolean"
                              }
                            },
                            "required": ["pdsEndpoint", "recordUrl", "stale"],
                            "additionalProperties": false
                          },
                          "metrics": {
                            "description": "Engagement metrics",
                            "type": "object",
                            "properties": {
                              "views": {
                                "description": "Total view count",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              },
                              "downloads": {
                                "description": "Total download count",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              },
                              "endorsements": {
                                "description": "Endorsement count",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["views", "downloads"],
                            "additionalProperties": false
                          },
                          "score": { "description": "Relevance score", "type": "number" },
                          "highlights": {
                            "description": "Search highlights",
                            "type": "object",
                            "propertyNames": { "type": "string" },
                            "additionalProperties": {
                              "type": "array",
                              "items": { "type": "string" }
                            }
                          }
                        },
                        "required": [
                          "uri",
                          "cid",
                          "title",
                          "abstract",
                          "authors",
                          "submittedBy",
                          "license",
                          "createdAt",
                          "indexedAt",
                          "source"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "description": "Cursor for next page", "type": "string" },
                    "hasMore": { "description": "Whether more results exist", "type": "boolean" },
                    "total": {
                      "description": "Total matching results",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "facets": {
                      "description": "Facet counts",
                      "type": "object",
                      "propertyNames": { "type": "string" },
                      "additionalProperties": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "value": { "type": "string" },
                            "count": {
                              "type": "integer",
                              "minimum": -9007199254740991,
                              "maximum": 9007199254740991
                            }
                          },
                          "required": ["value", "count"],
                          "additionalProperties": false
                        }
                      }
                    },
                    "impressionId": {
                      "description": "Impression ID for click tracking (LTR training data)",
                      "type": "string",
                      "format": "uuid",
                      "pattern": "^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$"
                    }
                  },
                  "required": ["hits", "hasMore", "total"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.eprint.listByAuthor": {
      "get": {
        "operationId": "pub_chive_eprint_listByAuthor",
        "summary": "List eprint submissions by author DID",
        "tags": ["eprint"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          {
            "name": "did",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Author DID",
              "type": "string",
              "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
            }
          },
          {
            "name": "sort",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Sort order",
              "default": "date",
              "type": "string",
              "enum": ["date", "views"]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "eprints": {
                      "description": "Eprint list",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": {
                            "description": "AT Protocol URI (at://did/collection/rkey)",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "cid": {
                            "description": "Content Identifier",
                            "type": "string",
                            "pattern": "^[a-zA-Z0-9]+$"
                          },
                          "title": { "description": "Eprint title", "type": "string" },
                          "abstract": {
                            "description": "Truncated abstract",
                            "type": "string",
                            "maxLength": 500
                          },
                          "authors": {
                            "description": "All authors with contributions",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "did": {
                                  "description": "Author DID if they have an ATProto account",
                                  "type": "string",
                                  "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                                },
                                "name": { "description": "Author display name", "type": "string" },
                                "orcid": { "description": "ORCID identifier", "type": "string" },
                                "email": {
                                  "description": "Contact email",
                                  "type": "string",
                                  "format": "email",
                                  "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
                                },
                                "order": {
                                  "description": "Position in author list (1-indexed)",
                                  "type": "integer",
                                  "minimum": -9007199254740991,
                                  "maximum": 9007199254740991
                                },
                                "affiliations": {
                                  "description": "Author affiliations",
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "name": {
                                        "description": "Organization name",
                                        "type": "string"
                                      },
                                      "rorId": { "description": "ROR ID", "type": "string" },
                                      "department": {
                                        "description": "Department or division",
                                        "type": "string"
                                      }
                                    },
                                    "required": ["name"],
                                    "additionalProperties": false
                                  }
                                },
                                "contributions": {
                                  "description": "CRediT-based contributions",
                                  "type": "array",
                                  "items": {
                                    "type": "object",
                                    "properties": {
                                      "typeUri": {
                                        "description": "AT-URI to contribution type",
                                        "type": "string",
                                        "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                                      },
                                      "typeId": {
                                        "description": "Contribution type ID",
                                        "type": "string"
                                      },
                                      "typeLabel": {
                                        "description": "Human-readable label",
                                        "type": "string"
                                      },
                                      "degree": {
                                        "description": "Contribution degree",
                                        "type": "string",
                                        "enum": ["lead", "equal", "supporting"]
                                      }
                                    },
                                    "required": ["typeUri", "degree"],
                                    "additionalProperties": false
                                  }
                                },
                                "isCorrespondingAuthor": {
                                  "description": "Whether this is a corresponding author",
                                  "type": "boolean"
                                },
                                "isHighlighted": {
                                  "description": "Whether author is highlighted (co-first, co-last)",
                                  "type": "boolean"
                                },
                                "handle": {
                                  "description": "Author handle if available",
                                  "type": "string"
                                },
                                "avatarUrl": {
                                  "description": "Avatar URL if available",
                                  "type": "string",
                                  "format": "uri"
                                }
                              },
                              "required": [
                                "name",
                                "order",
                                "affiliations",
                                "contributions",
                                "isCorrespondingAuthor",
                                "isHighlighted"
                              ],
                              "additionalProperties": false
                            }
                          },
                          "submittedBy": {
                            "description": "DID of human user who submitted",
                            "type": "string",
                            "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                          },
                          "paperDid": {
                            "description": "Paper DID if paper has its own PDS",
                            "type": "string",
                            "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                          },
                          "fields": {
                            "description": "Subject fields",
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": { "description": "Field ID", "type": "string" },
                                "uri": { "description": "Field URI", "type": "string" },
                                "name": { "description": "Field name", "type": "string" },
                                "parentUri": { "description": "Parent field URI", "type": "string" }
                              },
                              "required": ["uri", "name"],
                              "additionalProperties": false
                            }
                          },
                          "license": { "description": "License identifier", "type": "string" },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "indexedAt": {
                            "description": "Index timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "source": {
                            "description": "PDS source information",
                            "type": "object",
                            "properties": {
                              "pdsEndpoint": {
                                "description": "User PDS endpoint",
                                "type": "string",
                                "format": "uri"
                              },
                              "recordUrl": {
                                "description": "Direct URL to fetch authoritative record",
                                "type": "string",
                                "format": "uri"
                              },
                              "blobUrl": {
                                "description": "Direct URL to fetch PDF blob from PDS",
                                "type": "string",
                                "format": "uri"
                              },
                              "lastVerifiedAt": {
                                "description": "Last time Chive verified with PDS",
                                "type": "string",
                                "format": "date-time",
                                "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                              },
                              "stale": {
                                "description": "True if not verified in > 7 days",
                                "type": "boolean"
                              }
                            },
                            "required": ["pdsEndpoint", "recordUrl", "stale"],
                            "additionalProperties": false
                          },
                          "metrics": {
                            "description": "Engagement metrics",
                            "type": "object",
                            "properties": {
                              "views": {
                                "description": "Total view count",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              },
                              "downloads": {
                                "description": "Total download count",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              },
                              "endorsements": {
                                "description": "Endorsement count",
                                "type": "integer",
                                "minimum": -9007199254740991,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["views", "downloads"],
                            "additionalProperties": false
                          }
                        },
                        "required": [
                          "uri",
                          "cid",
                          "title",
                          "abstract",
                          "authors",
                          "submittedBy",
                          "license",
                          "createdAt",
                          "indexedAt",
                          "source"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "description": "Cursor for next page", "type": "string" },
                    "hasMore": { "description": "Whether more results exist", "type": "boolean" },
                    "total": {
                      "description": "Total count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["eprints", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.review.listForEprint": {
      "get": {
        "operationId": "pub_chive_review_listForEprint",
        "summary": "List reviews for an eprint",
        "tags": ["review"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          {
            "name": "eprintUri",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Eprint AT-URI",
              "type": "string",
              "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
            }
          },
          {
            "name": "motivation",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by motivation",
              "type": "string",
              "enum": [
                "commenting",
                "highlighting",
                "questioning",
                "replying",
                "assessing",
                "bookmarking",
                "classifying",
                "describing",
                "editing",
                "linking",
                "moderating",
                "tagging"
              ]
            }
          },
          {
            "name": "inlineOnly",
            "in": "query",
            "required": false,
            "schema": { "description": "Only include inline annotations", "type": "boolean" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reviews": {
                      "description": "List of reviews",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": {
                            "description": "Review AT-URI",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "cid": { "description": "Content identifier", "type": "string" },
                          "author": {
                            "description": "Review author",
                            "type": "object",
                            "properties": {
                              "did": {
                                "description": "Decentralized Identifier",
                                "type": "string",
                                "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                              },
                              "handle": { "description": "Author handle", "type": "string" },
                              "displayName": { "description": "Display name", "type": "string" },
                              "avatar": {
                                "description": "Avatar URL",
                                "type": "string",
                                "format": "uri"
                              }
                            },
                            "required": ["did"],
                            "additionalProperties": false
                          },
                          "eprintUri": {
                            "description": "Eprint being reviewed",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "content": { "description": "Plain text content", "type": "string" },
                          "body": {
                            "description": "Rich text body",
                            "type": "object",
                            "properties": {
                              "text": {
                                "description": "Plain text content",
                                "type": "string",
                                "maxLength": 10000
                              },
                              "facets": {
                                "description": "Rich text facets",
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "index": {
                                      "type": "object",
                                      "properties": {
                                        "byteStart": {
                                          "type": "integer",
                                          "minimum": 0,
                                          "maximum": 9007199254740991
                                        },
                                        "byteEnd": {
                                          "type": "integer",
                                          "minimum": 0,
                                          "maximum": 9007199254740991
                                        }
                                      },
                                      "required": ["byteStart", "byteEnd"],
                                      "additionalProperties": false
                                    },
                                    "features": {
                                      "type": "array",
                                      "items": {
                                        "oneOf": [
                                          {
                                            "type": "object",
                                            "properties": {
                                              "$type": {
                                                "type": "string",
                                                "const": "app.bsky.richtext.facet#mention"
                                              },
                                              "did": {
                                                "description": "Decentralized Identifier",
                                                "type": "string",
                                                "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                                              }
                                            },
                                            "required": ["$type", "did"],
                                            "additionalProperties": false
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "$type": {
                                                "type": "string",
                                                "const": "app.bsky.richtext.facet#link"
                                              },
                                              "uri": { "type": "string", "format": "uri" }
                                            },
                                            "required": ["$type", "uri"],
                                            "additionalProperties": false
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "$type": {
                                                "type": "string",
                                                "const": "app.bsky.richtext.facet#tag"
                                              },
                                              "tag": { "type": "string" }
                                            },
                                            "required": ["$type", "tag"],
                                            "additionalProperties": false
                                          }
                                        ]
                                      }
                                    }
                                  },
                                  "required": ["index", "features"],
                                  "additionalProperties": false
                                }
                              }
                            },
                            "required": ["text"],
                            "additionalProperties": false
                          },
                          "target": {
                            "description": "Target span for inline annotations",
                            "type": "object",
                            "properties": {
                              "source": {
                                "description": "Eprint AT-URI",
                                "type": "string",
                                "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                              },
                              "selector": {
                                "description": "Text quote selector",
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "const": "TextQuoteSelector" },
                                  "exact": {
                                    "description": "Exact text to match",
                                    "type": "string"
                                  },
                                  "prefix": {
                                    "description": "Text immediately before the match",
                                    "type": "string"
                                  },
                                  "suffix": {
                                    "description": "Text immediately after the match",
                                    "type": "string"
                                  }
                                },
                                "required": ["type", "exact"],
                                "additionalProperties": false
                              },
                              "refinedBy": {
                                "description": "Position refinement with page info",
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "const": "TextPositionSelector" },
                                  "start": {
                                    "description": "Start character offset",
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 9007199254740991
                                  },
                                  "end": {
                                    "description": "End character offset",
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 9007199254740991
                                  },
                                  "pageNumber": {
                                    "description": "Page number in PDF",
                                    "type": "integer",
                                    "minimum": 1,
                                    "maximum": 9007199254740991
                                  },
                                  "boundingRect": {
                                    "description": "Visual bounding rectangle",
                                    "type": "object",
                                    "properties": {
                                      "x1": {
                                        "description": "Left edge (normalized 0-1)",
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1
                                      },
                                      "y1": {
                                        "description": "Top edge (normalized 0-1)",
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1
                                      },
                                      "x2": {
                                        "description": "Right edge (normalized 0-1)",
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1
                                      },
                                      "y2": {
                                        "description": "Bottom edge (normalized 0-1)",
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1
                                      },
                                      "width": {
                                        "description": "Page width in pixels",
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "height": {
                                        "description": "Page height in pixels",
                                        "type": "number",
                                        "minimum": 0
                                      }
                                    },
                                    "required": ["x1", "y1", "x2", "y2", "width", "height"],
                                    "additionalProperties": false
                                  }
                                },
                                "required": ["type", "start", "end"],
                                "additionalProperties": false
                              },
                              "page": {
                                "description": "Page number (deprecated, use refinedBy.pageNumber)",
                                "type": "integer",
                                "minimum": 1,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["source"],
                            "additionalProperties": false
                          },
                          "motivation": {
                            "description": "Motivation",
                            "default": "commenting",
                            "type": "string",
                            "enum": [
                              "commenting",
                              "highlighting",
                              "questioning",
                              "replying",
                              "assessing",
                              "bookmarking",
                              "classifying",
                              "describing",
                              "editing",
                              "linking",
                              "moderating",
                              "tagging"
                            ]
                          },
                          "parentReviewUri": {
                            "description": "Parent review URI for replies",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "replyCount": {
                            "description": "Number of direct replies",
                            "default": 0,
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "indexedAt": {
                            "description": "Index timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": [
                          "uri",
                          "cid",
                          "author",
                          "eprintUri",
                          "content",
                          "motivation",
                          "replyCount",
                          "createdAt",
                          "indexedAt"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "description": "Cursor for next page", "type": "string" },
                    "hasMore": { "description": "Whether more results exist", "type": "boolean" },
                    "total": {
                      "description": "Total count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["reviews", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.review.listForAuthor": {
      "get": {
        "operationId": "pub_chive_review_listForAuthor",
        "summary": "List reviews created by an author",
        "tags": ["review"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          {
            "name": "reviewerDid",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Reviewer DID",
              "type": "string",
              "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
            }
          },
          {
            "name": "motivation",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Filter by motivation",
              "type": "string",
              "enum": [
                "commenting",
                "highlighting",
                "questioning",
                "replying",
                "assessing",
                "bookmarking",
                "classifying",
                "describing",
                "editing",
                "linking",
                "moderating",
                "tagging"
              ]
            }
          },
          {
            "name": "inlineOnly",
            "in": "query",
            "required": false,
            "schema": { "description": "Only include inline annotations", "type": "boolean" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "reviews": {
                      "description": "List of reviews",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": {
                            "description": "Review AT-URI",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "cid": { "description": "Content identifier", "type": "string" },
                          "author": {
                            "description": "Review author",
                            "type": "object",
                            "properties": {
                              "did": {
                                "description": "Decentralized Identifier",
                                "type": "string",
                                "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                              },
                              "handle": { "description": "Author handle", "type": "string" },
                              "displayName": { "description": "Display name", "type": "string" },
                              "avatar": {
                                "description": "Avatar URL",
                                "type": "string",
                                "format": "uri"
                              }
                            },
                            "required": ["did"],
                            "additionalProperties": false
                          },
                          "eprintUri": {
                            "description": "Eprint being reviewed",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "content": { "description": "Plain text content", "type": "string" },
                          "body": {
                            "description": "Rich text body",
                            "type": "object",
                            "properties": {
                              "text": {
                                "description": "Plain text content",
                                "type": "string",
                                "maxLength": 10000
                              },
                              "facets": {
                                "description": "Rich text facets",
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "index": {
                                      "type": "object",
                                      "properties": {
                                        "byteStart": {
                                          "type": "integer",
                                          "minimum": 0,
                                          "maximum": 9007199254740991
                                        },
                                        "byteEnd": {
                                          "type": "integer",
                                          "minimum": 0,
                                          "maximum": 9007199254740991
                                        }
                                      },
                                      "required": ["byteStart", "byteEnd"],
                                      "additionalProperties": false
                                    },
                                    "features": {
                                      "type": "array",
                                      "items": {
                                        "oneOf": [
                                          {
                                            "type": "object",
                                            "properties": {
                                              "$type": {
                                                "type": "string",
                                                "const": "app.bsky.richtext.facet#mention"
                                              },
                                              "did": {
                                                "description": "Decentralized Identifier",
                                                "type": "string",
                                                "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                                              }
                                            },
                                            "required": ["$type", "did"],
                                            "additionalProperties": false
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "$type": {
                                                "type": "string",
                                                "const": "app.bsky.richtext.facet#link"
                                              },
                                              "uri": { "type": "string", "format": "uri" }
                                            },
                                            "required": ["$type", "uri"],
                                            "additionalProperties": false
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "$type": {
                                                "type": "string",
                                                "const": "app.bsky.richtext.facet#tag"
                                              },
                                              "tag": { "type": "string" }
                                            },
                                            "required": ["$type", "tag"],
                                            "additionalProperties": false
                                          }
                                        ]
                                      }
                                    }
                                  },
                                  "required": ["index", "features"],
                                  "additionalProperties": false
                                }
                              }
                            },
                            "required": ["text"],
                            "additionalProperties": false
                          },
                          "target": {
                            "description": "Target span for inline annotations",
                            "type": "object",
                            "properties": {
                              "source": {
                                "description": "Eprint AT-URI",
                                "type": "string",
                                "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                              },
                              "selector": {
                                "description": "Text quote selector",
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "const": "TextQuoteSelector" },
                                  "exact": {
                                    "description": "Exact text to match",
                                    "type": "string"
                                  },
                                  "prefix": {
                                    "description": "Text immediately before the match",
                                    "type": "string"
                                  },
                                  "suffix": {
                                    "description": "Text immediately after the match",
                                    "type": "string"
                                  }
                                },
                                "required": ["type", "exact"],
                                "additionalProperties": false
                              },
                              "refinedBy": {
                                "description": "Position refinement with page info",
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "const": "TextPositionSelector" },
                                  "start": {
                                    "description": "Start character offset",
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 9007199254740991
                                  },
                                  "end": {
                                    "description": "End character offset",
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 9007199254740991
                                  },
                                  "pageNumber": {
                                    "description": "Page number in PDF",
                                    "type": "integer",
                                    "minimum": 1,
                                    "maximum": 9007199254740991
                                  },
                                  "boundingRect": {
                                    "description": "Visual bounding rectangle",
                                    "type": "object",
                                    "properties": {
                                      "x1": {
                                        "description": "Left edge (normalized 0-1)",
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1
                                      },
                                      "y1": {
                                        "description": "Top edge (normalized 0-1)",
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1
                                      },
                                      "x2": {
                                        "description": "Right edge (normalized 0-1)",
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1
                                      },
                                      "y2": {
                                        "description": "Bottom edge (normalized 0-1)",
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1
                                      },
                                      "width": {
                                        "description": "Page width in pixels",
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "height": {
                                        "description": "Page height in pixels",
                                        "type": "number",
                                        "minimum": 0
                                      }
                                    },
                                    "required": ["x1", "y1", "x2", "y2", "width", "height"],
                                    "additionalProperties": false
                                  }
                                },
                                "required": ["type", "start", "end"],
                                "additionalProperties": false
                              },
                              "page": {
                                "description": "Page number (deprecated, use refinedBy.pageNumber)",
                                "type": "integer",
                                "minimum": 1,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["source"],
                            "additionalProperties": false
                          },
                          "motivation": {
                            "description": "Motivation",
                            "default": "commenting",
                            "type": "string",
                            "enum": [
                              "commenting",
                              "highlighting",
                              "questioning",
                              "replying",
                              "assessing",
                              "bookmarking",
                              "classifying",
                              "describing",
                              "editing",
                              "linking",
                              "moderating",
                              "tagging"
                            ]
                          },
                          "parentReviewUri": {
                            "description": "Parent review URI for replies",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "replyCount": {
                            "description": "Number of direct replies",
                            "default": 0,
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "indexedAt": {
                            "description": "Index timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": [
                          "uri",
                          "cid",
                          "author",
                          "eprintUri",
                          "content",
                          "motivation",
                          "replyCount",
                          "createdAt",
                          "indexedAt"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "description": "Cursor for next page", "type": "string" },
                    "hasMore": { "description": "Whether more results exist", "type": "boolean" },
                    "total": {
                      "description": "Total count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["reviews", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.review.getThread": {
      "get": {
        "operationId": "pub_chive_review_getThread",
        "summary": "Get a review thread with replies",
        "tags": ["review"],
        "parameters": [
          {
            "name": "uri",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Review AT-URI",
              "type": "string",
              "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "parent": {
                      "description": "Parent review",
                      "type": "object",
                      "properties": {
                        "uri": {
                          "description": "Review AT-URI",
                          "type": "string",
                          "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                        },
                        "cid": { "description": "Content identifier", "type": "string" },
                        "author": {
                          "description": "Review author",
                          "type": "object",
                          "properties": {
                            "did": {
                              "description": "Decentralized Identifier",
                              "type": "string",
                              "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                            },
                            "handle": { "description": "Author handle", "type": "string" },
                            "displayName": { "description": "Display name", "type": "string" },
                            "avatar": {
                              "description": "Avatar URL",
                              "type": "string",
                              "format": "uri"
                            }
                          },
                          "required": ["did"],
                          "additionalProperties": false
                        },
                        "eprintUri": {
                          "description": "Eprint being reviewed",
                          "type": "string",
                          "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                        },
                        "content": { "description": "Plain text content", "type": "string" },
                        "body": {
                          "description": "Rich text body",
                          "type": "object",
                          "properties": {
                            "text": {
                              "description": "Plain text content",
                              "type": "string",
                              "maxLength": 10000
                            },
                            "facets": {
                              "description": "Rich text facets",
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "index": {
                                    "type": "object",
                                    "properties": {
                                      "byteStart": {
                                        "type": "integer",
                                        "minimum": 0,
                                        "maximum": 9007199254740991
                                      },
                                      "byteEnd": {
                                        "type": "integer",
                                        "minimum": 0,
                                        "maximum": 9007199254740991
                                      }
                                    },
                                    "required": ["byteStart", "byteEnd"],
                                    "additionalProperties": false
                                  },
                                  "features": {
                                    "type": "array",
                                    "items": {
                                      "oneOf": [
                                        {
                                          "type": "object",
                                          "properties": {
                                            "$type": {
                                              "type": "string",
                                              "const": "app.bsky.richtext.facet#mention"
                                            },
                                            "did": {
                                              "description": "Decentralized Identifier",
                                              "type": "string",
                                              "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                                            }
                                          },
                                          "required": ["$type", "did"],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "$type": {
                                              "type": "string",
                                              "const": "app.bsky.richtext.facet#link"
                                            },
                                            "uri": { "type": "string", "format": "uri" }
                                          },
                                          "required": ["$type", "uri"],
                                          "additionalProperties": false
                                        },
                                        {
                                          "type": "object",
                                          "properties": {
                                            "$type": {
                                              "type": "string",
                                              "const": "app.bsky.richtext.facet#tag"
                                            },
                                            "tag": { "type": "string" }
                                          },
                                          "required": ["$type", "tag"],
                                          "additionalProperties": false
                                        }
                                      ]
                                    }
                                  }
                                },
                                "required": ["index", "features"],
                                "additionalProperties": false
                              }
                            }
                          },
                          "required": ["text"],
                          "additionalProperties": false
                        },
                        "target": {
                          "description": "Target span for inline annotations",
                          "type": "object",
                          "properties": {
                            "source": {
                              "description": "Eprint AT-URI",
                              "type": "string",
                              "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                            },
                            "selector": {
                              "description": "Text quote selector",
                              "type": "object",
                              "properties": {
                                "type": { "type": "string", "const": "TextQuoteSelector" },
                                "exact": { "description": "Exact text to match", "type": "string" },
                                "prefix": {
                                  "description": "Text immediately before the match",
                                  "type": "string"
                                },
                                "suffix": {
                                  "description": "Text immediately after the match",
                                  "type": "string"
                                }
                              },
                              "required": ["type", "exact"],
                              "additionalProperties": false
                            },
                            "refinedBy": {
                              "description": "Position refinement with page info",
                              "type": "object",
                              "properties": {
                                "type": { "type": "string", "const": "TextPositionSelector" },
                                "start": {
                                  "description": "Start character offset",
                                  "type": "integer",
                                  "minimum": 0,
                                  "maximum": 9007199254740991
                                },
                                "end": {
                                  "description": "End character offset",
                                  "type": "integer",
                                  "minimum": 0,
                                  "maximum": 9007199254740991
                                },
                                "pageNumber": {
                                  "description": "Page number in PDF",
                                  "type": "integer",
                                  "minimum": 1,
                                  "maximum": 9007199254740991
                                },
                                "boundingRect": {
                                  "description": "Visual bounding rectangle",
                                  "type": "object",
                                  "properties": {
                                    "x1": {
                                      "description": "Left edge (normalized 0-1)",
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 1
                                    },
                                    "y1": {
                                      "description": "Top edge (normalized 0-1)",
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 1
                                    },
                                    "x2": {
                                      "description": "Right edge (normalized 0-1)",
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 1
                                    },
                                    "y2": {
                                      "description": "Bottom edge (normalized 0-1)",
                                      "type": "number",
                                      "minimum": 0,
                                      "maximum": 1
                                    },
                                    "width": {
                                      "description": "Page width in pixels",
                                      "type": "number",
                                      "minimum": 0
                                    },
                                    "height": {
                                      "description": "Page height in pixels",
                                      "type": "number",
                                      "minimum": 0
                                    }
                                  },
                                  "required": ["x1", "y1", "x2", "y2", "width", "height"],
                                  "additionalProperties": false
                                }
                              },
                              "required": ["type", "start", "end"],
                              "additionalProperties": false
                            },
                            "page": {
                              "description": "Page number (deprecated, use refinedBy.pageNumber)",
                              "type": "integer",
                              "minimum": 1,
                              "maximum": 9007199254740991
                            }
                          },
                          "required": ["source"],
                          "additionalProperties": false
                        },
                        "motivation": {
                          "description": "Motivation",
                          "default": "commenting",
                          "type": "string",
                          "enum": [
                            "commenting",
                            "highlighting",
                            "questioning",
                            "replying",
                            "assessing",
                            "bookmarking",
                            "classifying",
                            "describing",
                            "editing",
                            "linking",
                            "moderating",
                            "tagging"
                          ]
                        },
                        "parentReviewUri": {
                          "description": "Parent review URI for replies",
                          "type": "string",
                          "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                        },
                        "replyCount": {
                          "description": "Number of direct replies",
                          "default": 0,
                          "type": "integer",
                          "minimum": -9007199254740991,
                          "maximum": 9007199254740991
                        },
                        "createdAt": {
                          "description": "Creation timestamp",
                          "type": "string",
                          "format": "date-time",
                          "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                        },
                        "indexedAt": {
                          "description": "Index timestamp",
                          "type": "string",
                          "format": "date-time",
                          "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                        }
                      },
                      "required": [
                        "uri",
                        "cid",
                        "author",
                        "eprintUri",
                        "content",
                        "motivation",
                        "replyCount",
                        "createdAt",
                        "indexedAt"
                      ],
                      "additionalProperties": false
                    },
                    "replies": {
                      "description": "Direct replies",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": {
                            "description": "Review AT-URI",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "cid": { "description": "Content identifier", "type": "string" },
                          "author": {
                            "description": "Review author",
                            "type": "object",
                            "properties": {
                              "did": {
                                "description": "Decentralized Identifier",
                                "type": "string",
                                "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                              },
                              "handle": { "description": "Author handle", "type": "string" },
                              "displayName": { "description": "Display name", "type": "string" },
                              "avatar": {
                                "description": "Avatar URL",
                                "type": "string",
                                "format": "uri"
                              }
                            },
                            "required": ["did"],
                            "additionalProperties": false
                          },
                          "eprintUri": {
                            "description": "Eprint being reviewed",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "content": { "description": "Plain text content", "type": "string" },
                          "body": {
                            "description": "Rich text body",
                            "type": "object",
                            "properties": {
                              "text": {
                                "description": "Plain text content",
                                "type": "string",
                                "maxLength": 10000
                              },
                              "facets": {
                                "description": "Rich text facets",
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "index": {
                                      "type": "object",
                                      "properties": {
                                        "byteStart": {
                                          "type": "integer",
                                          "minimum": 0,
                                          "maximum": 9007199254740991
                                        },
                                        "byteEnd": {
                                          "type": "integer",
                                          "minimum": 0,
                                          "maximum": 9007199254740991
                                        }
                                      },
                                      "required": ["byteStart", "byteEnd"],
                                      "additionalProperties": false
                                    },
                                    "features": {
                                      "type": "array",
                                      "items": {
                                        "oneOf": [
                                          {
                                            "type": "object",
                                            "properties": {
                                              "$type": {
                                                "type": "string",
                                                "const": "app.bsky.richtext.facet#mention"
                                              },
                                              "did": {
                                                "description": "Decentralized Identifier",
                                                "type": "string",
                                                "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                                              }
                                            },
                                            "required": ["$type", "did"],
                                            "additionalProperties": false
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "$type": {
                                                "type": "string",
                                                "const": "app.bsky.richtext.facet#link"
                                              },
                                              "uri": { "type": "string", "format": "uri" }
                                            },
                                            "required": ["$type", "uri"],
                                            "additionalProperties": false
                                          },
                                          {
                                            "type": "object",
                                            "properties": {
                                              "$type": {
                                                "type": "string",
                                                "const": "app.bsky.richtext.facet#tag"
                                              },
                                              "tag": { "type": "string" }
                                            },
                                            "required": ["$type", "tag"],
                                            "additionalProperties": false
                                          }
                                        ]
                                      }
                                    }
                                  },
                                  "required": ["index", "features"],
                                  "additionalProperties": false
                                }
                              }
                            },
                            "required": ["text"],
                            "additionalProperties": false
                          },
                          "target": {
                            "description": "Target span for inline annotations",
                            "type": "object",
                            "properties": {
                              "source": {
                                "description": "Eprint AT-URI",
                                "type": "string",
                                "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                              },
                              "selector": {
                                "description": "Text quote selector",
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "const": "TextQuoteSelector" },
                                  "exact": {
                                    "description": "Exact text to match",
                                    "type": "string"
                                  },
                                  "prefix": {
                                    "description": "Text immediately before the match",
                                    "type": "string"
                                  },
                                  "suffix": {
                                    "description": "Text immediately after the match",
                                    "type": "string"
                                  }
                                },
                                "required": ["type", "exact"],
                                "additionalProperties": false
                              },
                              "refinedBy": {
                                "description": "Position refinement with page info",
                                "type": "object",
                                "properties": {
                                  "type": { "type": "string", "const": "TextPositionSelector" },
                                  "start": {
                                    "description": "Start character offset",
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 9007199254740991
                                  },
                                  "end": {
                                    "description": "End character offset",
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 9007199254740991
                                  },
                                  "pageNumber": {
                                    "description": "Page number in PDF",
                                    "type": "integer",
                                    "minimum": 1,
                                    "maximum": 9007199254740991
                                  },
                                  "boundingRect": {
                                    "description": "Visual bounding rectangle",
                                    "type": "object",
                                    "properties": {
                                      "x1": {
                                        "description": "Left edge (normalized 0-1)",
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1
                                      },
                                      "y1": {
                                        "description": "Top edge (normalized 0-1)",
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1
                                      },
                                      "x2": {
                                        "description": "Right edge (normalized 0-1)",
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1
                                      },
                                      "y2": {
                                        "description": "Bottom edge (normalized 0-1)",
                                        "type": "number",
                                        "minimum": 0,
                                        "maximum": 1
                                      },
                                      "width": {
                                        "description": "Page width in pixels",
                                        "type": "number",
                                        "minimum": 0
                                      },
                                      "height": {
                                        "description": "Page height in pixels",
                                        "type": "number",
                                        "minimum": 0
                                      }
                                    },
                                    "required": ["x1", "y1", "x2", "y2", "width", "height"],
                                    "additionalProperties": false
                                  }
                                },
                                "required": ["type", "start", "end"],
                                "additionalProperties": false
                              },
                              "page": {
                                "description": "Page number (deprecated, use refinedBy.pageNumber)",
                                "type": "integer",
                                "minimum": 1,
                                "maximum": 9007199254740991
                              }
                            },
                            "required": ["source"],
                            "additionalProperties": false
                          },
                          "motivation": {
                            "description": "Motivation",
                            "default": "commenting",
                            "type": "string",
                            "enum": [
                              "commenting",
                              "highlighting",
                              "questioning",
                              "replying",
                              "assessing",
                              "bookmarking",
                              "classifying",
                              "describing",
                              "editing",
                              "linking",
                              "moderating",
                              "tagging"
                            ]
                          },
                          "parentReviewUri": {
                            "description": "Parent review URI for replies",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "replyCount": {
                            "description": "Number of direct replies",
                            "default": 0,
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          },
                          "indexedAt": {
                            "description": "Index timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": [
                          "uri",
                          "cid",
                          "author",
                          "eprintUri",
                          "content",
                          "motivation",
                          "replyCount",
                          "createdAt",
                          "indexedAt"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "totalReplies": {
                      "description": "Total replies (recursive)",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["parent", "replies", "totalReplies"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.sync.checkStaleness": {
      "get": {
        "operationId": "pub_chive_sync_checkStaleness",
        "summary": "Check if a record is stale",
        "tags": ["sync"],
        "parameters": [
          { "name": "uri", "in": "query", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "uri": { "type": "string" },
                    "isStale": { "type": "boolean" },
                    "indexedCID": { "type": "string" },
                    "pdsCID": { "type": "string" },
                    "error": { "type": "string" }
                  },
                  "required": ["uri", "isStale", "indexedCID"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.sync.refreshRecord": {
      "post": {
        "operationId": "pub_chive_sync_refreshRecord",
        "summary": "Refresh a record from PDS (admin only)",
        "tags": ["sync"],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": { "uri": { "type": "string" } },
                "required": ["uri"],
                "additionalProperties": false
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "refreshed": { "type": "boolean" },
                    "changed": { "type": "boolean" },
                    "previousCID": { "type": "string" },
                    "currentCID": { "type": "string" },
                    "error": { "type": "string" }
                  },
                  "required": ["refreshed", "changed", "previousCID", "currentCID"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.sync.verify": {
      "get": {
        "operationId": "pub_chive_sync_verify",
        "summary": "Verify sync state of a record",
        "tags": ["sync"],
        "parameters": [
          { "name": "uri", "in": "query", "required": true, "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "uri": { "type": "string" },
                    "indexed": { "type": "boolean" },
                    "inSync": { "type": "boolean" },
                    "indexedAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "lastSyncedAt": {
                      "type": "string",
                      "format": "date-time",
                      "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                    },
                    "staleDays": { "type": "number" }
                  },
                  "required": ["uri", "indexed", "inSync"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.tag.listForEprint": {
      "get": {
        "operationId": "pub_chive_tag_listForEprint",
        "summary": "List tags for an eprint",
        "tags": ["tag"],
        "parameters": [
          {
            "name": "eprintUri",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Eprint AT-URI",
              "type": "string",
              "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "tags": {
                      "description": "Tags for the eprint",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "uri": {
                            "description": "Tag AT-URI",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "eprintUri": {
                            "description": "Tagged eprint AT-URI",
                            "type": "string",
                            "pattern": "^at:\\/\\/did:[a-z]+:[a-zA-Z0-9._:%-]+\\/[a-zA-Z0-9.]+\\/[a-zA-Z0-9._~-]+$"
                          },
                          "author": {
                            "description": "Tag creator",
                            "type": "object",
                            "properties": {
                              "did": {
                                "description": "Decentralized Identifier",
                                "type": "string",
                                "pattern": "^did:[a-z]+:[a-zA-Z0-9._:%-]+$"
                              },
                              "handle": { "description": "Author handle", "type": "string" },
                              "displayName": { "description": "Display name", "type": "string" },
                              "avatar": {
                                "description": "Avatar URL",
                                "type": "string",
                                "format": "uri"
                              }
                            },
                            "required": ["did"],
                            "additionalProperties": false
                          },
                          "displayForm": {
                            "description": "Original display form",
                            "type": "string"
                          },
                          "normalizedForm": {
                            "description": "Normalized form (lowercase, hyphenated)",
                            "type": "string"
                          },
                          "createdAt": {
                            "description": "Creation timestamp",
                            "type": "string",
                            "format": "date-time",
                            "pattern": "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z))$"
                          }
                        },
                        "required": [
                          "uri",
                          "eprintUri",
                          "author",
                          "displayForm",
                          "normalizedForm",
                          "createdAt"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "suggestions": {
                      "description": "TaxoFolk suggestions",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "displayForm": {
                            "description": "Suggested display form",
                            "type": "string"
                          },
                          "normalizedForm": { "description": "Normalized form", "type": "string" },
                          "confidence": {
                            "description": "Suggestion confidence",
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                          },
                          "source": {
                            "description": "Suggestion source",
                            "type": "string",
                            "enum": ["cooccurrence", "authority", "facet"]
                          },
                          "matchedTerm": {
                            "description": "Term that triggered suggestion",
                            "type": "string"
                          }
                        },
                        "required": ["displayForm", "normalizedForm", "confidence", "source"],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["tags"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.tag.getSuggestions": {
      "get": {
        "operationId": "pub_chive_tag_getSuggestions",
        "summary": "Get tag suggestions",
        "tags": ["tag"],
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Query string",
              "type": "string",
              "minLength": 2,
              "maxLength": 100
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "default": 10, "type": "integer", "minimum": 1, "maximum": 20 }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "suggestions": {
                      "description": "Tag suggestions",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "displayForm": {
                            "description": "Suggested display form",
                            "type": "string"
                          },
                          "normalizedForm": { "description": "Normalized form", "type": "string" },
                          "confidence": {
                            "description": "Suggestion confidence",
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                          },
                          "source": {
                            "description": "Suggestion source",
                            "type": "string",
                            "enum": ["cooccurrence", "authority", "facet"]
                          },
                          "matchedTerm": {
                            "description": "Term that triggered suggestion",
                            "type": "string"
                          }
                        },
                        "required": ["displayForm", "normalizedForm", "confidence", "source"],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["suggestions"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.tag.getTrending": {
      "get": {
        "operationId": "pub_chive_tag_getTrending",
        "summary": "Get trending tags",
        "tags": ["tag"],
        "parameters": [
          {
            "name": "timeWindow",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Time window",
              "default": "week",
              "type": "string",
              "enum": ["day", "week", "month"]
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": { "default": 20, "type": "integer", "minimum": 1, "maximum": 50 }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "tags": {
                      "description": "Trending tags",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "normalizedForm": {
                            "description": "Normalized tag form",
                            "type": "string"
                          },
                          "displayForms": {
                            "description": "All display forms used",
                            "type": "array",
                            "items": { "type": "string" }
                          },
                          "usageCount": {
                            "description": "Number of eprints tagged",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "qualityScore": {
                            "description": "Tag quality score",
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                          },
                          "isPromoted": {
                            "description": "Promoted to facet/authority",
                            "type": "boolean"
                          },
                          "promotedTo": {
                            "description": "Promotion target",
                            "type": "object",
                            "properties": {
                              "type": { "type": "string", "enum": ["facet", "authority"] },
                              "uri": { "type": "string" }
                            },
                            "required": ["type", "uri"],
                            "additionalProperties": false
                          }
                        },
                        "required": [
                          "normalizedForm",
                          "displayForms",
                          "usageCount",
                          "qualityScore",
                          "isPromoted"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "timeWindow": {
                      "description": "Time window",
                      "type": "string",
                      "enum": ["day", "week", "month"]
                    }
                  },
                  "required": ["tags", "timeWindow"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.tag.search": {
      "get": {
        "operationId": "pub_chive_tag_search",
        "summary": "Search for tags",
        "tags": ["tag"],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Maximum number of items to return",
              "default": 50,
              "type": "integer",
              "minimum": 1,
              "maximum": 100
            }
          },
          {
            "name": "cursor",
            "in": "query",
            "required": false,
            "schema": { "description": "Opaque cursor for pagination", "type": "string" }
          },
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "description": "Search query",
              "type": "string",
              "minLength": 2,
              "maxLength": 100
            }
          },
          {
            "name": "minQuality",
            "in": "query",
            "required": false,
            "schema": {
              "description": "Minimum quality score",
              "type": "number",
              "minimum": 0,
              "maximum": 1
            }
          },
          {
            "name": "includeSpam",
            "in": "query",
            "required": false,
            "schema": { "description": "Include spam tags", "type": "boolean" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "tags": {
                      "description": "Search results",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "normalizedForm": {
                            "description": "Normalized tag form",
                            "type": "string"
                          },
                          "displayForms": {
                            "description": "All display forms used",
                            "type": "array",
                            "items": { "type": "string" }
                          },
                          "usageCount": {
                            "description": "Number of eprints tagged",
                            "type": "integer",
                            "minimum": -9007199254740991,
                            "maximum": 9007199254740991
                          },
                          "qualityScore": {
                            "description": "Tag quality score",
                            "type": "number",
                            "minimum": 0,
                            "maximum": 1
                          },
                          "isPromoted": {
                            "description": "Promoted to facet/authority",
                            "type": "boolean"
                          },
                          "promotedTo": {
                            "description": "Promotion target",
                            "type": "object",
                            "properties": {
                              "type": { "type": "string", "enum": ["facet", "authority"] },
                              "uri": { "type": "string" }
                            },
                            "required": ["type", "uri"],
                            "additionalProperties": false
                          }
                        },
                        "required": [
                          "normalizedForm",
                          "displayForms",
                          "usageCount",
                          "qualityScore",
                          "isPromoted"
                        ],
                        "additionalProperties": false
                      }
                    },
                    "cursor": { "description": "Cursor for next page", "type": "string" },
                    "hasMore": { "description": "Whether more results exist", "type": "boolean" },
                    "total": {
                      "description": "Total count",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    }
                  },
                  "required": ["tags", "hasMore"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/xrpc/pub.chive.tag.getDetail": {
      "get": {
        "operationId": "pub_chive_tag_getDetail",
        "summary": "Get tag details",
        "tags": ["tag"],
        "parameters": [
          {
            "name": "tag",
            "in": "query",
            "required": true,
            "schema": { "description": "Normalized tag form", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "normalizedForm": { "description": "Normalized tag form", "type": "string" },
                    "displayForms": {
                      "description": "All display forms used",
                      "type": "array",
                      "items": { "type": "string" }
                    },
                    "usageCount": {
                      "description": "Number of eprints tagged",
                      "type": "integer",
                      "minimum": -9007199254740991,
                      "maximum": 9007199254740991
                    },
                    "qualityScore": {
                      "description": "Tag quality score",
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1
                    },
                    "isPromoted": {
                      "description": "Promoted to facet/authority",
                      "type": "boolean"
                    },
                    "promotedTo": {
                      "description": "Promotion target",
                      "type": "object",
                      "properties": {
                        "type": { "type": "string", "enum": ["facet", "authority"] },
                        "uri": { "type": "string" }
                      },
                      "required": ["type", "uri"],
                      "additionalProperties": false
                    }
                  },
                  "required": [
                    "normalizedForm",
                    "displayForms",
                    "usageCount",
                    "qualityScore",
                    "isPromoted"
                  ],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/ErrorResponse" } }
            }
          }
        }
      }
    },
    "/api/v1/eprints": {
      "get": {
        "operationId": "searchEprints",
        "summary": "Search eprints",
        "tags": ["eprints"],
        "parameters": [
          { "name": "q", "in": "query", "required": true, "schema": { "type": "string" } },
          {
            "name": "limit",
            "in": "query",
            "schema": { "type": "integer", "default": 50, "minimum": 1, "maximum": 100 }
          },
          { "name": "cursor", "in": "query", "schema": { "type": "string" } }
        ],
        "responses": { "200": { "description": "Search results" } }
      }
    },
    "/api/v1/eprints/{uri}": {
      "get": {
        "operationId": "getEprint",
        "summary": "Get eprint by URI",
        "tags": ["eprints"],
        "parameters": [
          {
            "name": "uri",
            "in": "path",
            "required": true,
            "schema": { "type": "string" },
            "description": "URL-encoded AT URI"
          }
        ],
        "responses": {
          "200": { "description": "Eprint details" },
          "404": { "description": "Eprint not found" }
        }
      }
    },
    "/health": {
      "get": {
        "operationId": "healthCheck",
        "summary": "Liveness probe",
        "tags": ["health"],
        "responses": { "200": { "description": "Service is alive" } }
      }
    },
    "/ready": {
      "get": {
        "operationId": "readinessCheck",
        "summary": "Readiness probe",
        "tags": ["health"],
        "responses": {
          "200": { "description": "Service is ready" },
          "503": { "description": "Service is not ready" }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "object",
            "properties": {
              "code": { "type": "string" },
              "message": { "type": "string" },
              "requestId": { "type": "string" },
              "field": { "type": "string" },
              "retryAfter": { "type": "integer" }
            },
            "required": ["code", "message", "requestId"]
          }
        },
        "required": ["error"]
      }
    },
    "securitySchemes": {
      "bearerAuth": { "type": "http", "scheme": "bearer", "bearerFormat": "JWT" }
    }
  }
}
